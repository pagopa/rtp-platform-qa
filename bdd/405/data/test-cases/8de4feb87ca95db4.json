{"uid":"8de4feb87ca95db4","name":"An authenticated Service Provider cannot send an RTP to an activated debtor","fullName":"A Creditor Service Provider sends an RTP through API: An authenticated Service Provider cannot send an RTP to an activated debtor","historyId":"6405207ec163b1b347ffd9712145ef9a","time":{"start":1750778075342,"stop":1750778075945,"duration":603},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[{"name":"Given the debtor A has fiscal code random","time":{"start":1750778075342,"stop":1750778075342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And the debtor Service Provider is authenticated","time":{"start":1750778075342,"stop":1750778075944,"duration":602},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Given the creditor Service Provider is authenticated","time":{"start":1750778075945,"stop":1750778075945,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And the debtor Service Provider activated the debtor A","time":{"start":1750778075945,"stop":1750778075945,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When the creditor Service Provider is unauthenticated","time":{"start":1750778075945,"stop":1750778075945,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And the creditor Service Provider sends an RTP to the debtor A","time":{"start":1750778075945,"stop":1750778075945,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then the RTP is not created because the Service Provider is not authenticated","time":{"start":1750778075945,"stop":1750778075945,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"authentication"},{"name":"tag","value":"send"},{"name":"tag","value":"unhappy_path"},{"name":"feature","value":"A Creditor Service Provider sends an RTP through API"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":6,"broken":4,"skipped":0,"passed":197,"unknown":0,"total":207},"items":[{"uid":"a709f85ad06d81b2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/404//#testresult/a709f85ad06d81b2","status":"passed","time":{"start":1750756987825,"stop":1750756989733,"duration":1908}},{"uid":"b93b8cd8690c2358","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/403//#testresult/b93b8cd8690c2358","status":"passed","time":{"start":1750749130013,"stop":1750749131696,"duration":1683}},{"uid":"a8052af85e5d7d63","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/402//#testresult/a8052af85e5d7d63","status":"passed","time":{"start":1750685135314,"stop":1750685137448,"duration":2134}},{"uid":"6fae87678e526ed3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/401//#testresult/6fae87678e526ed3","status":"passed","time":{"start":1750662787081,"stop":1750662788896,"duration":1815}},{"uid":"85425bf513230a57","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/400//#testresult/85425bf513230a57","status":"passed","time":{"start":1750576360807,"stop":1750576364058,"duration":3251}},{"uid":"b260d91fbcc6c423","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/399//#testresult/b260d91fbcc6c423","status":"passed","time":{"start":1750489937708,"stop":1750489940718,"duration":3010}},{"uid":"f4d9f68a4cbbccad","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/398//#testresult/f4d9f68a4cbbccad","status":"passed","time":{"start":1750403516594,"stop":1750403518884,"duration":2290}},{"uid":"af093948003ff765","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/397//#testresult/af093948003ff765","status":"passed","time":{"start":1750335287401,"stop":1750335289495,"duration":2094}},{"uid":"b5d3f759cca17c38","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/396//#testresult/b5d3f759cca17c38","status":"passed","time":{"start":1750329931397,"stop":1750329933442,"duration":2045}},{"uid":"95d2c7fc786e9aef","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/395//#testresult/95d2c7fc786e9aef","status":"passed","time":{"start":1750328857002,"stop":1750328859838,"duration":2836}},{"uid":"4ac01c3a517c759a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/394//#testresult/4ac01c3a517c759a","status":"passed","time":{"start":1750317808492,"stop":1750317810223,"duration":1731}},{"uid":"a856d68c8160b3ee","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/393//#testresult/a856d68c8160b3ee","status":"passed","time":{"start":1750317151776,"stop":1750317153591,"duration":1815}},{"uid":"1e449c485cd27f36","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/392//#testresult/1e449c485cd27f36","status":"passed","time":{"start":1750230824650,"stop":1750230826352,"duration":1702}},{"uid":"b37ff0e2e847b4cf","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/390//#testresult/b37ff0e2e847b4cf","status":"passed","time":{"start":1750170465338,"stop":1750170467183,"duration":1845}},{"uid":"5d0e834c45149d75","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/389//#testresult/5d0e834c45149d75","status":"passed","time":{"start":1750144397186,"stop":1750144399263,"duration":2077}},{"uid":"be0cccc2679102f9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/388//#testresult/be0cccc2679102f9","status":"passed","time":{"start":1750069365835,"stop":1750069368270,"duration":2435}},{"uid":"9a04c5b1d7990aef","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/387//#testresult/9a04c5b1d7990aef","status":"passed","time":{"start":1750058051813,"stop":1750058054467,"duration":2654}},{"uid":"6a745b6df29fa2ad","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/386//#testresult/6a745b6df29fa2ad","status":"passed","time":{"start":1749971580965,"stop":1749971582883,"duration":1918}},{"uid":"7e0c43bd2a57061e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/385//#testresult/7e0c43bd2a57061e","status":"passed","time":{"start":1749885183965,"stop":1749885185786,"duration":1821}},{"uid":"6e84ef6605b401f0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/384//#testresult/6e84ef6605b401f0","status":"passed","time":{"start":1749810449638,"stop":1749810451963,"duration":2325}}]},"tags":["send","unhappy_path","authentication"]},"source":"8de4feb87ca95db4.json","parameterValues":[]}