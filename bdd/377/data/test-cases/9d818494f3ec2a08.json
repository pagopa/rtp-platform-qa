{"uid":"9d818494f3ec2a08","name":"A debtor Service Provider cannot send an RTP","fullName":"A Creditor Service Provider sends an RTP through API: A debtor Service Provider cannot send an RTP","historyId":"7afecda5c54e3f78b75d45d5244d515c","time":{"start":1749799972107,"stop":1749799972573,"duration":466},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/requests/models.py\", line 1024, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/requests/models.py\", line 1024, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[{"name":"Given the debtor A has fiscal code random","time":{"start":1749799972108,"stop":1749799972108,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And the debtor Service Provider is authenticated","time":{"start":1749799972108,"stop":1749799972572,"duration":464},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/requests/models.py\", line 1024, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Given the debtor Service Provider activated the debtor A","time":{"start":1749799972573,"stop":1749799972573,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When the debtor Service Provider sends an RTP to the debtor A","time":{"start":1749799972573,"stop":1749799972573,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then the RTP is not created because the debtor Service Provider cannot send an RTP","time":{"start":1749799972573,"stop":1749799972573,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"authentication"},{"name":"tag","value":"send"},{"name":"tag","value":"unhappy_path"},{"name":"feature","value":"A Creditor Service Provider sends an RTP through API"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":6,"broken":3,"skipped":0,"passed":174,"unknown":0,"total":183},"items":[{"uid":"23015bdb2f379d70","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/376//#testresult/23015bdb2f379d70","status":"passed","time":{"start":1749798766758,"stop":1749798768259,"duration":1501}},{"uid":"5a18ca6cc0e02b95","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/375//#testresult/5a18ca6cc0e02b95","status":"passed","time":{"start":1749712378432,"stop":1749712379968,"duration":1536}},{"uid":"5825ac45fbbbac68","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/374//#testresult/5825ac45fbbbac68","status":"passed","time":{"start":1749625961823,"stop":1749625963317,"duration":1494}},{"uid":"4ff03772fc13ff31","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/373//#testresult/4ff03772fc13ff31","status":"passed","time":{"start":1749539552324,"stop":1749539554034,"duration":1710}},{"uid":"5e49ca1a560d2e91","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/365//#testresult/5e49ca1a560d2e91","status":"passed","time":{"start":1749482420578,"stop":1749482422014,"duration":1436}},{"uid":"e62006b807f5c407","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/363//#testresult/e62006b807f5c407","status":"passed","time":{"start":1749453213683,"stop":1749453215046,"duration":1363}},{"uid":"36cbedb30c01e0a0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/362//#testresult/36cbedb30c01e0a0","status":"passed","time":{"start":1749366770039,"stop":1749366771699,"duration":1660}},{"uid":"a34d01e15501ffb4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/361//#testresult/a34d01e15501ffb4","status":"passed","time":{"start":1749280336269,"stop":1749280337751,"duration":1482}},{"uid":"13a09ab30e9f0e73","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/360//#testresult/13a09ab30e9f0e73","status":"passed","time":{"start":1749193945972,"stop":1749193947640,"duration":1668}},{"uid":"753906d7f3c25eb3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/359//#testresult/753906d7f3c25eb3","status":"passed","time":{"start":1749107590660,"stop":1749107592325,"duration":1665}},{"uid":"89e8815c31d28fb4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/358//#testresult/89e8815c31d28fb4","status":"passed","time":{"start":1749021169557,"stop":1749021172300,"duration":2743}},{"uid":"fa6d723e906461a3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/357//#testresult/fa6d723e906461a3","status":"passed","time":{"start":1748956884748,"stop":1748956886425,"duration":1677}},{"uid":"4bf08439f8c15575","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/356//#testresult/4bf08439f8c15575","status":"passed","time":{"start":1748953462545,"stop":1748953465045,"duration":2500}},{"uid":"c052f52fff46e263","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/355//#testresult/c052f52fff46e263","status":"passed","time":{"start":1748934794885,"stop":1748934796542,"duration":1657}},{"uid":"54e880da45580465","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/354//#testresult/54e880da45580465","status":"passed","time":{"start":1748848402468,"stop":1748848404110,"duration":1642}},{"uid":"d2550810db67d53b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/353//#testresult/d2550810db67d53b","status":"passed","time":{"start":1748761974556,"stop":1748761977196,"duration":2640}},{"uid":"900ce21c27589aca","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/352//#testresult/900ce21c27589aca","status":"passed","time":{"start":1748675545548,"stop":1748675547200,"duration":1652}},{"uid":"77b014992dfc95e6","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/351//#testresult/77b014992dfc95e6","status":"passed","time":{"start":1748589171405,"stop":1748589172773,"duration":1368}},{"uid":"c3595567ec551486","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/350//#testresult/c3595567ec551486","status":"passed","time":{"start":1748534287245,"stop":1748534288684,"duration":1439}},{"uid":"a4150a3501cef1f2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/349//#testresult/a4150a3501cef1f2","status":"passed","time":{"start":1748502609206,"stop":1748502611699,"duration":2493}}]},"tags":["send","unhappy_path","authentication"]},"source":"9d818494f3ec2a08.json","parameterValues":[]}