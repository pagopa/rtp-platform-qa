{"uid":"ba02e8540b303c31","name":"A debtor Service Provider tries to activates a debtor 2 times, failing the second attempt","fullName":"A Debtor Service Providers activates a debtor: A debtor Service Provider tries to activates a debtor 2 times, failing the second attempt","historyId":"38626e702fa9de630d34234bd0de45db","time":{"start":1749800674235,"stop":1749800674713,"duration":478},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/requests/models.py\", line 1024, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/requests/models.py\", line 1024, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[{"name":"Given the debtor Service Provider is authenticated","time":{"start":1749800674235,"stop":1749800674712,"duration":477},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/requests/models.py\", line 1024, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"And the debtor A has fiscal code random","time":{"start":1749800674713,"stop":1749800674713,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And the debtor Service Provider activated the debtor A","time":{"start":1749800674713,"stop":1749800674713,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When the debtor Service Provider tries to activate the debtor A","time":{"start":1749800674713,"stop":1749800674713,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then the activation fails because debtor A is already activated","time":{"start":1749800674713,"stop":1749800674713,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"activation"},{"name":"tag","value":"authentication"},{"name":"tag","value":"unhappy_path"},{"name":"feature","value":"A Debtor Service Providers activates a debtor"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":3,"skipped":0,"passed":178,"unknown":0,"total":184},"items":[{"uid":"b668c66ae6e48126","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/377//#testresult/b668c66ae6e48126","status":"broken","statusDetails":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","time":{"start":1749799967575,"stop":1749799968150,"duration":575}},{"uid":"6fb8b668d86e8df3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/376//#testresult/6fb8b668d86e8df3","status":"passed","time":{"start":1749798751306,"stop":1749798752927,"duration":1621}},{"uid":"5d08e360112225e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/375//#testresult/5d08e360112225e","status":"passed","time":{"start":1749712362872,"stop":1749712364637,"duration":1765}},{"uid":"e58f5fa19b505766","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/374//#testresult/e58f5fa19b505766","status":"passed","time":{"start":1749625946962,"stop":1749625948569,"duration":1607}},{"uid":"bcccf865fa9e4b09","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/373//#testresult/bcccf865fa9e4b09","status":"passed","time":{"start":1749539537146,"stop":1749539538778,"duration":1632}},{"uid":"650f7497f5c220a7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/365//#testresult/650f7497f5c220a7","status":"passed","time":{"start":1749482406279,"stop":1749482407855,"duration":1576}},{"uid":"e5ae6872bd1f111f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/363//#testresult/e5ae6872bd1f111f","status":"passed","time":{"start":1749453198404,"stop":1749453200135,"duration":1731}},{"uid":"4611c37ce66775c4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/362//#testresult/4611c37ce66775c4","status":"passed","time":{"start":1749366753932,"stop":1749366755631,"duration":1699}},{"uid":"fc059706c61286b4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/361//#testresult/fc059706c61286b4","status":"passed","time":{"start":1749280321281,"stop":1749280322852,"duration":1571}},{"uid":"e5ab645bd1e25c2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/360//#testresult/e5ab645bd1e25c2","status":"passed","time":{"start":1749193929142,"stop":1749193930960,"duration":1818}},{"uid":"eaa0c93e455c5d15","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/359//#testresult/eaa0c93e455c5d15","status":"passed","time":{"start":1749107574726,"stop":1749107576380,"duration":1654}},{"uid":"b76f212c9645415f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/358//#testresult/b76f212c9645415f","status":"passed","time":{"start":1749021148145,"stop":1749021150752,"duration":2607}},{"uid":"3d67dd37cf037549","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/357//#testresult/3d67dd37cf037549","status":"passed","time":{"start":1748956868866,"stop":1748956870560,"duration":1694}},{"uid":"34b8f6aa92a983af","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/356//#testresult/34b8f6aa92a983af","status":"passed","time":{"start":1748953437737,"stop":1748953440353,"duration":2616}},{"uid":"f733f1ec6710fbb1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/355//#testresult/f733f1ec6710fbb1","status":"passed","time":{"start":1748934778526,"stop":1748934780492,"duration":1966}},{"uid":"4bb0dd9e3907c9e7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/354//#testresult/4bb0dd9e3907c9e7","status":"passed","time":{"start":1748848386159,"stop":1748848387967,"duration":1808}},{"uid":"cb34a47b21f60ef","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/353//#testresult/cb34a47b21f60ef","status":"passed","time":{"start":1748761949415,"stop":1748761952386,"duration":2971}},{"uid":"7a352fb5a8f3f8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/352//#testresult/7a352fb5a8f3f8","status":"passed","time":{"start":1748675528774,"stop":1748675530628,"duration":1854}},{"uid":"dde8a01f728fa304","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/351//#testresult/dde8a01f728fa304","status":"passed","time":{"start":1748589156431,"stop":1748589157928,"duration":1497}},{"uid":"487ff794bcf8362f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/350//#testresult/487ff794bcf8362f","status":"passed","time":{"start":1748534271907,"stop":1748534273713,"duration":1806}}]},"tags":["activation","unhappy_path","authentication"]},"source":"ba02e8540b303c31.json","parameterValues":[]}