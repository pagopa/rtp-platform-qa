{"uid":"9bc97ea773d7364e","name":"A debtor Service Provider tries to activates a debtor 2 times, failing the second attempt","fullName":"A Debtor Service Providers activates a debtor: A debtor Service Provider tries to activates a debtor 2 times, failing the second attempt","historyId":"38626e702fa9de630d34234bd0de45db","time":{"start":1758271187112,"stop":1758271187630,"duration":518},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 502 Server Error: Bad Gateway for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"requests.exceptions.HTTPError: 502 Server Error: Bad Gateway for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[{"name":"Given the debtor Service Provider is authenticated","time":{"start":1758271187112,"stop":1758271187630,"duration":518},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 502 Server Error: Bad Gateway for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"And the debtor A has fiscal code random","time":{"start":1758271187630,"stop":1758271187630,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And the debtor Service Provider activated the debtor A","time":{"start":1758271187630,"stop":1758271187630,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When the debtor Service Provider tries to activate the debtor A","time":{"start":1758271187630,"stop":1758271187630,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then the activation fails because debtor A is already activated","time":{"start":1758271187630,"stop":1758271187630,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"activation"},{"name":"tag","value":"authentication"},{"name":"tag","value":"unhappy_path"},{"name":"feature","value":"A Debtor Service Providers activates a debtor"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":5,"skipped":0,"passed":326,"unknown":0,"total":334},"items":[{"uid":"d9281dbf01b3ce37","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/536//#testresult/d9281dbf01b3ce37","status":"passed","time":{"start":1758267222128,"stop":1758267224953,"duration":2825}},{"uid":"3d312b4a67c0b2f4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/535//#testresult/3d312b4a67c0b2f4","status":"passed","time":{"start":1758180824325,"stop":1758180826197,"duration":1872}},{"uid":"3e3ca085b3fcbe7f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/534//#testresult/3e3ca085b3fcbe7f","status":"passed","time":{"start":1758094400488,"stop":1758094402062,"duration":1574}},{"uid":"ea3afd8078bbd4f9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/533//#testresult/ea3afd8078bbd4f9","status":"passed","time":{"start":1758008075544,"stop":1758008077492,"duration":1948}},{"uid":"d24c789aa92a90e4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/532//#testresult/d24c789aa92a90e4","status":"passed","time":{"start":1757921713778,"stop":1757921715442,"duration":1664}},{"uid":"bc7d39a9697235a1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/531//#testresult/bc7d39a9697235a1","status":"passed","time":{"start":1757835257682,"stop":1757835259282,"duration":1600}},{"uid":"dfe055b0db4b5019","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/530//#testresult/dfe055b0db4b5019","status":"passed","time":{"start":1757748900867,"stop":1757748902581,"duration":1714}},{"uid":"581f8a6479575c57","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/529//#testresult/581f8a6479575c57","status":"passed","time":{"start":1757666618364,"stop":1757666621366,"duration":3002}},{"uid":"bb3d906994cfac69","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/528//#testresult/bb3d906994cfac69","status":"passed","time":{"start":1757662414784,"stop":1757662417418,"duration":2634}},{"uid":"708447d604601471","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/527//#testresult/708447d604601471","status":"passed","time":{"start":1757599102971,"stop":1757599105682,"duration":2711}},{"uid":"b4459fbd51e01682","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/526//#testresult/b4459fbd51e01682","status":"passed","time":{"start":1757576028420,"stop":1757576031012,"duration":2592}},{"uid":"ae74404d393a539","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/525//#testresult/ae74404d393a539","status":"passed","time":{"start":1757489789158,"stop":1757489791509,"duration":2351}},{"uid":"3c25e5ae868b9379","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/524//#testresult/3c25e5ae868b9379","status":"passed","time":{"start":1757402707198,"stop":1757402709150,"duration":1952}},{"uid":"a38f3238501f0564","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/523//#testresult/a38f3238501f0564","status":"passed","time":{"start":1757316308086,"stop":1757316310328,"duration":2242}},{"uid":"f82462a5e149e7a6","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/522//#testresult/f82462a5e149e7a6","status":"passed","time":{"start":1757229850789,"stop":1757229852462,"duration":1673}},{"uid":"c66b157725cfd146","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/521//#testresult/c66b157725cfd146","status":"passed","time":{"start":1757143398690,"stop":1757143401193,"duration":2503}},{"uid":"73eb827048adfe54","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/520//#testresult/73eb827048adfe54","status":"passed","time":{"start":1757057236454,"stop":1757057243024,"duration":6570}},{"uid":"93e45e8ac0b660b1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/519//#testresult/93e45e8ac0b660b1","status":"passed","time":{"start":1756969834905,"stop":1756969837713,"duration":2808}},{"uid":"8dcbdf7803ca58de","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/518//#testresult/8dcbdf7803ca58de","status":"passed","time":{"start":1756911053749,"stop":1756911056609,"duration":2860}},{"uid":"93cf67fbf253a883","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/517//#testresult/93cf67fbf253a883","status":"passed","time":{"start":1756883405740,"stop":1756883408058,"duration":2318}}]},"tags":["activation","unhappy_path","authentication"]},"source":"9bc97ea773d7364e.json","parameterValues":[]}