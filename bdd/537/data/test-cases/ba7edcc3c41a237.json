{"uid":"ba7edcc3c41a237","name":"An authenticated Service Provider cannot send an RTP to an activated debtor","fullName":"A Creditor Service Provider sends an RTP through API: An authenticated Service Provider cannot send an RTP to an activated debtor","historyId":"6405207ec163b1b347ffd9712145ef9a","time":{"start":1758271190018,"stop":1758271190418,"duration":400},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 502 Server Error: Bad Gateway for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"requests.exceptions.HTTPError: 502 Server Error: Bad Gateway for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[{"name":"Given the debtor A has fiscal code random","time":{"start":1758271190019,"stop":1758271190019,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And the debtor Service Provider is authenticated","time":{"start":1758271190019,"stop":1758271190417,"duration":398},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 502 Server Error: Bad Gateway for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Given the creditor Service Provider is authenticated","time":{"start":1758271190418,"stop":1758271190418,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And the debtor Service Provider activated the debtor A","time":{"start":1758271190418,"stop":1758271190418,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When the creditor Service Provider is unauthenticated","time":{"start":1758271190418,"stop":1758271190418,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And the creditor Service Provider sends an RTP to the debtor A","time":{"start":1758271190418,"stop":1758271190418,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then the RTP is not created because the Service Provider is not authenticated","time":{"start":1758271190418,"stop":1758271190418,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"authentication"},{"name":"tag","value":"send"},{"name":"tag","value":"unhappy_path"},{"name":"feature","value":"A Creditor Service Provider sends an RTP through API"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":6,"broken":21,"skipped":0,"passed":307,"unknown":0,"total":334},"items":[{"uid":"a6f225b2ca6b8cad","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/536//#testresult/a6f225b2ca6b8cad","status":"passed","time":{"start":1758267241715,"stop":1758267244889,"duration":3174}},{"uid":"9d16f6937faacd9e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/535//#testresult/9d16f6937faacd9e","status":"passed","time":{"start":1758180837095,"stop":1758180838978,"duration":1883}},{"uid":"a8bbee2349bf191e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/534//#testresult/a8bbee2349bf191e","status":"passed","time":{"start":1758094412785,"stop":1758094414718,"duration":1933}},{"uid":"29b20c27b33319cd","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/533//#testresult/29b20c27b33319cd","status":"passed","time":{"start":1758008089116,"stop":1758008091169,"duration":2053}},{"uid":"91cf425ef6b997b5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/532//#testresult/91cf425ef6b997b5","status":"passed","time":{"start":1757921726389,"stop":1757921728278,"duration":1889}},{"uid":"c90bb8eb51d00532","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/531//#testresult/c90bb8eb51d00532","status":"passed","time":{"start":1757835270414,"stop":1757835272228,"duration":1814}},{"uid":"30fcf092b2eea37","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/530//#testresult/30fcf092b2eea37","status":"passed","time":{"start":1757748913783,"stop":1757748915692,"duration":1909}},{"uid":"92e7cb09c79a9525","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/529//#testresult/92e7cb09c79a9525","status":"passed","time":{"start":1757666637806,"stop":1757666640850,"duration":3044}},{"uid":"d5f8bb2588d8728b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/528//#testresult/d5f8bb2588d8728b","status":"passed","time":{"start":1757662435484,"stop":1757662438743,"duration":3259}},{"uid":"da272ad52c2ed1d4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/527//#testresult/da272ad52c2ed1d4","status":"passed","time":{"start":1757599124112,"stop":1757599127401,"duration":3289}},{"uid":"318670f0d09476b3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/526//#testresult/318670f0d09476b3","status":"passed","time":{"start":1757576046300,"stop":1757576049101,"duration":2801}},{"uid":"771618c5476cada5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/525//#testresult/771618c5476cada5","status":"passed","time":{"start":1757489807861,"stop":1757489810668,"duration":2807}},{"uid":"f0c728ff52f87be7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/524//#testresult/f0c728ff52f87be7","status":"passed","time":{"start":1757402720149,"stop":1757402721980,"duration":1831}},{"uid":"b09c020d2d6958a9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/523//#testresult/b09c020d2d6958a9","status":"passed","time":{"start":1757316322107,"stop":1757316324207,"duration":2100}},{"uid":"712669d1c36e8db9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/522//#testresult/712669d1c36e8db9","status":"passed","time":{"start":1757229863877,"stop":1757229865734,"duration":1857}},{"uid":"5481784ef8680021","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/521//#testresult/5481784ef8680021","status":"passed","time":{"start":1757143412278,"stop":1757143414245,"duration":1967}},{"uid":"3ec4f62a5168d016","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/520//#testresult/3ec4f62a5168d016","status":"passed","time":{"start":1757057260151,"stop":1757057262964,"duration":2813}},{"uid":"aad16e276c0576f7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/519//#testresult/aad16e276c0576f7","status":"passed","time":{"start":1756969854689,"stop":1756969857724,"duration":3035}},{"uid":"af2041165c26037b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/518//#testresult/af2041165c26037b","status":"passed","time":{"start":1756911074110,"stop":1756911077413,"duration":3303}},{"uid":"ecd26c133a168e45","reportUrl":"https://pagopa.github.io/rtp-platform-qa/bdd/517//#testresult/ecd26c133a168e45","status":"passed","time":{"start":1756883423497,"stop":1756883426331,"duration":2834}}]},"tags":["send","unhappy_path","authentication"]},"source":"ba7edcc3c41a237.json","parameterValues":[]}