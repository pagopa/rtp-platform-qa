{"uid":"730bf3b4fd6b090e","name":"Failed callback for non existing Service Provider - DS-04b compliant","fullName":"tests.test_callback#test_fail_send_rtp_callback_non_existing_service_provider_DS_04b_compliant","historyId":"0976199b3442c36a3644cccfb991668c","time":{"start":1757057092984,"stop":1757057093637,"duration":653},"status":"failed","statusMessage":"AssertionError: Expecting error from callback, expected 400 got 502\nassert 502 == 400\n +  where 502 = <Response [502]>.status_code","statusTrace":"@allure.feature('RTP Callback')\n    @allure.story('Service provider sends a callback referred to an RTP')\n    @allure.title('Failed callback for non existing Service Provider - DS-04b compliant')\n    @pytest.mark.callback\n    @pytest.mark.unhappy_path\n    def test_fail_send_rtp_callback_non_existing_service_provider_DS_04b_compliant():\n        callback_data = generate_callback_data_DS_04b_compliant(BIC='MOCKSP99')\n    \n        cert, key = pfx_to_pem(\n            secrets.debtor_service_provider_mock_PFX_base64,\n            secrets.debtor_service_provider_mock_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n    \n        callback_response = srtp_callback(\n            rtp_payload=callback_data, cert_path=cert, key_path=key\n        )\n>       assert (\n            callback_response.status_code == 400\n        ), f\"Expecting error from callback, expected 400 got {callback_response.status_code}\"\nE       AssertionError: Expecting error from callback, expected 400 got 502\nE       assert 502 == 400\nE        +  where 502 = <Response [502]>.status_code\n\nfunctional-tests/tests/test_callback.py:271: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1757056838070,"stop":1757056838126,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"feature","value":"RTP Callback"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"2510-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":193,"unknown":0,"total":194},"items":[{"uid":"8f74b2a8bd87fee2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/519//#testresult/8f74b2a8bd87fee2","status":"passed","time":{"start":1756969628004,"stop":1756969628515,"duration":511}},{"uid":"16e6262a18001fb2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/518//#testresult/16e6262a18001fb2","status":"passed","time":{"start":1756910841171,"stop":1756910841925,"duration":754}},{"uid":"1642cac28671edd4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/517//#testresult/1642cac28671edd4","status":"passed","time":{"start":1756883249441,"stop":1756883249956,"duration":515}},{"uid":"254bd134bc877ebc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/516//#testresult/254bd134bc877ebc","status":"passed","time":{"start":1756797976254,"stop":1756797976823,"duration":569}},{"uid":"838b95d332529427","reportUrl":"https://pagopa.github.io/rtp-platform-qa/515//#testresult/838b95d332529427","status":"passed","time":{"start":1756796844717,"stop":1756796845216,"duration":499}},{"uid":"79d2d52062ede9a5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/514//#testresult/79d2d52062ede9a5","status":"passed","time":{"start":1756719569364,"stop":1756719570142,"duration":778}},{"uid":"f83d3b1422237ba9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/513//#testresult/f83d3b1422237ba9","status":"passed","time":{"start":1756710517264,"stop":1756710517920,"duration":656}},{"uid":"91e052cc11c03b3f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/512//#testresult/91e052cc11c03b3f","status":"passed","time":{"start":1756623997558,"stop":1756623998030,"duration":472}},{"uid":"d5ef132986b1102e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/511//#testresult/d5ef132986b1102e","status":"passed","time":{"start":1756537595261,"stop":1756537595725,"duration":464}},{"uid":"5dd8e1cff4a81f1b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/510//#testresult/5dd8e1cff4a81f1b","status":"passed","time":{"start":1756451238045,"stop":1756451238570,"duration":525}},{"uid":"d17259cddadeae6d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/509//#testresult/d17259cddadeae6d","status":"passed","time":{"start":1756385890874,"stop":1756385891592,"duration":718}},{"uid":"e24650827b9cf47d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/508//#testresult/e24650827b9cf47d","status":"passed","time":{"start":1756364859311,"stop":1756364860091,"duration":780}},{"uid":"2fe97bdf2d9a907","reportUrl":"https://pagopa.github.io/rtp-platform-qa/507//#testresult/2fe97bdf2d9a907","status":"passed","time":{"start":1756278448137,"stop":1756278448886,"duration":749}},{"uid":"ba88ea4bb3151dd4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/506//#testresult/ba88ea4bb3151dd4","status":"passed","time":{"start":1756192059225,"stop":1756192059790,"duration":565}},{"uid":"9e9bd5c1d687804a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/505//#testresult/9e9bd5c1d687804a","status":"passed","time":{"start":1756105690888,"stop":1756105691364,"duration":476}},{"uid":"d0b2d7a10baaff1e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/504//#testresult/d0b2d7a10baaff1e","status":"passed","time":{"start":1756019195142,"stop":1756019195601,"duration":459}},{"uid":"e6586948454885ee","reportUrl":"https://pagopa.github.io/rtp-platform-qa/503//#testresult/e6586948454885ee","status":"passed","time":{"start":1755932782747,"stop":1755932783756,"duration":1009}},{"uid":"b3d4763a84e766ae","reportUrl":"https://pagopa.github.io/rtp-platform-qa/502//#testresult/b3d4763a84e766ae","status":"passed","time":{"start":1755847645399,"stop":1755847646089,"duration":690}},{"uid":"846b68dcf52dd1ba","reportUrl":"https://pagopa.github.io/rtp-platform-qa/501//#testresult/846b68dcf52dd1ba","status":"passed","time":{"start":1755846444482,"stop":1755846445000,"duration":518}},{"uid":"45bc594e69c9be09","reportUrl":"https://pagopa.github.io/rtp-platform-qa/500//#testresult/45bc594e69c9be09","status":"passed","time":{"start":1755843897359,"stop":1755843897961,"duration":602}}]},"tags":["callback","unhappy_path"]},"source":"730bf3b4fd6b090e.json","parameterValues":[]}