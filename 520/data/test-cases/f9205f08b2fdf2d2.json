{"uid":"f9205f08b2fdf2d2","name":"Unauthorized callback due to wrong certificate serial","fullName":"tests.test_callback#test_fail_send_rtp_callback_wrong_certificate_serial_DS_08N_compliant","historyId":"dfa46c341096617c052b3d5ac3a2d656","time":{"start":1757057092149,"stop":1757057092978,"duration":829},"status":"failed","statusMessage":"AssertionError: Expecting error from callback, expected 403 got 502\nassert 502 == 403\n +  where 502 = <Response [502]>.status_code","statusTrace":"@allure.feature('RTP Callback')\n    @allure.story('Service provider sends a callback referred to an RTP')\n    @allure.title('Unauthorized callback due to wrong certificate serial')\n    @pytest.mark.callback\n    @pytest.mark.unhappy_path\n    def test_fail_send_rtp_callback_wrong_certificate_serial_DS_08N_compliant():\n        callback_data = generate_callback_data_DS_08N_compliant(BIC='MOCKSP01')\n    \n        cert, key = pfx_to_pem(\n            secrets.debtor_service_provider_mock_PFX_base64,\n            secrets.debtor_service_provider_mock_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n    \n        callback_response = srtp_callback(\n            rtp_payload=callback_data, cert_path=cert, key_path=key\n        )\n>       assert (\n            callback_response.status_code == 403\n        ), f\"Expecting error from callback, expected 403 got {callback_response.status_code}\"\nE       AssertionError: Expecting error from callback, expected 403 got 502\nE       assert 502 == 403\nE        +  where 502 = <Response [502]>.status_code\n\nfunctional-tests/tests/test_callback.py:248: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1757056838070,"stop":1757056838126,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"feature","value":"RTP Callback"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"2510-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":41,"unknown":0,"total":42},"items":[{"uid":"ead2d9300286654b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/519//#testresult/ead2d9300286654b","status":"passed","time":{"start":1756969627511,"stop":1756969628003,"duration":492}},{"uid":"b27877918dea108f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/518//#testresult/b27877918dea108f","status":"passed","time":{"start":1756910840408,"stop":1756910841170,"duration":762}},{"uid":"f6676aab16164e28","reportUrl":"https://pagopa.github.io/rtp-platform-qa/517//#testresult/f6676aab16164e28","status":"passed","time":{"start":1756883248888,"stop":1756883249439,"duration":551}},{"uid":"83f707824b3cb273","reportUrl":"https://pagopa.github.io/rtp-platform-qa/516//#testresult/83f707824b3cb273","status":"passed","time":{"start":1756797975790,"stop":1756797976253,"duration":463}},{"uid":"1847db23320a242e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/515//#testresult/1847db23320a242e","status":"passed","time":{"start":1756796844248,"stop":1756796844716,"duration":468}},{"uid":"9c5de6f7530e0bc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/514//#testresult/9c5de6f7530e0bc","status":"passed","time":{"start":1756719568644,"stop":1756719569363,"duration":719}},{"uid":"d51bab347f0b3207","reportUrl":"https://pagopa.github.io/rtp-platform-qa/513//#testresult/d51bab347f0b3207","status":"passed","time":{"start":1756710516599,"stop":1756710517263,"duration":664}},{"uid":"11eb78a1554cd5e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/512//#testresult/11eb78a1554cd5e","status":"passed","time":{"start":1756623997078,"stop":1756623997556,"duration":478}},{"uid":"57395f8189b7fca7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/511//#testresult/57395f8189b7fca7","status":"passed","time":{"start":1756537594785,"stop":1756537595260,"duration":475}},{"uid":"271189260b8e23bb","reportUrl":"https://pagopa.github.io/rtp-platform-qa/510//#testresult/271189260b8e23bb","status":"passed","time":{"start":1756451237505,"stop":1756451238044,"duration":539}},{"uid":"1e7a5d75afea5a96","reportUrl":"https://pagopa.github.io/rtp-platform-qa/509//#testresult/1e7a5d75afea5a96","status":"passed","time":{"start":1756385890129,"stop":1756385890873,"duration":744}},{"uid":"7671aa3f2d97964b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/508//#testresult/7671aa3f2d97964b","status":"passed","time":{"start":1756364858415,"stop":1756364859310,"duration":895}},{"uid":"ee457dc654102145","reportUrl":"https://pagopa.github.io/rtp-platform-qa/507//#testresult/ee457dc654102145","status":"passed","time":{"start":1756278447401,"stop":1756278448135,"duration":734}},{"uid":"3ff80550dbdb3003","reportUrl":"https://pagopa.github.io/rtp-platform-qa/506//#testresult/3ff80550dbdb3003","status":"passed","time":{"start":1756192058754,"stop":1756192059224,"duration":470}},{"uid":"a0ff3be2757d1a0e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/505//#testresult/a0ff3be2757d1a0e","status":"passed","time":{"start":1756105690421,"stop":1756105690886,"duration":465}},{"uid":"a78e4d669dd81a63","reportUrl":"https://pagopa.github.io/rtp-platform-qa/504//#testresult/a78e4d669dd81a63","status":"passed","time":{"start":1756019194663,"stop":1756019195141,"duration":478}},{"uid":"f728a8feec9a73e3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/503//#testresult/f728a8feec9a73e3","status":"passed","time":{"start":1755932782097,"stop":1755932782746,"duration":649}},{"uid":"2a36ddd3db305225","reportUrl":"https://pagopa.github.io/rtp-platform-qa/502//#testresult/2a36ddd3db305225","status":"passed","time":{"start":1755847644741,"stop":1755847645398,"duration":657}},{"uid":"c3e3fbf51915441e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/501//#testresult/c3e3fbf51915441e","status":"passed","time":{"start":1755846443950,"stop":1755846444481,"duration":531}},{"uid":"7c2e61201f3c9aa9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/500//#testresult/7c2e61201f3c9aa9","status":"passed","time":{"start":1755843896806,"stop":1755843897358,"duration":552}}]},"tags":["callback","unhappy_path"]},"source":"f9205f08b2fdf2d2.json","parameterValues":[]}