{"uid":"449b3b1878908483","name":"Failed callback for non existing Service Provider - DS-08P compliant","fullName":"tests.test_callback#test_fail_send_rtp_callback_non_existing_service_provider_DS_08N_compliant","historyId":"9b0c94d3c30960b7a8dd338e4b51f023","time":{"start":1757057093642,"stop":1757057094301,"duration":659},"status":"failed","statusMessage":"AssertionError: Expecting error from callback, expected 400 got 502\nassert 502 == 400\n +  where 502 = <Response [502]>.status_code","statusTrace":"@allure.feature('RTP Callback')\n    @allure.story('Service provider sends a callback referred to an RTP')\n    @allure.title('Failed callback for non existing Service Provider - DS-08P compliant')\n    @pytest.mark.callback\n    @pytest.mark.unhappy_path\n    def test_fail_send_rtp_callback_non_existing_service_provider_DS_08N_compliant():\n        callback_data = generate_callback_data_DS_08N_compliant(BIC='MOCKSP99')\n    \n        cert, key = pfx_to_pem(\n            secrets.debtor_service_provider_mock_PFX_base64,\n            secrets.debtor_service_provider_mock_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n    \n        callback_response = srtp_callback(\n            rtp_payload=callback_data, cert_path=cert, key_path=key\n        )\n>       assert (\n            callback_response.status_code == 400\n        ), f\"Expecting error from callback, expected 400 got {callback_response.status_code}\"\nE       AssertionError: Expecting error from callback, expected 400 got 502\nE       assert 502 == 400\nE        +  where 502 = <Response [502]>.status_code\n\nfunctional-tests/tests/test_callback.py:294: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1757056838070,"stop":1757056838126,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"feature","value":"RTP Callback"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"2510-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":41,"unknown":0,"total":42},"items":[{"uid":"7634537ad3a43f1d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/519//#testresult/7634537ad3a43f1d","status":"passed","time":{"start":1756969628516,"stop":1756969629178,"duration":662}},{"uid":"ecb043ca1338e5bc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/518//#testresult/ecb043ca1338e5bc","status":"passed","time":{"start":1756910841927,"stop":1756910842606,"duration":679}},{"uid":"e58d1a7a980bc469","reportUrl":"https://pagopa.github.io/rtp-platform-qa/517//#testresult/e58d1a7a980bc469","status":"passed","time":{"start":1756883249957,"stop":1756883250433,"duration":476}},{"uid":"ba9aa188f15a85db","reportUrl":"https://pagopa.github.io/rtp-platform-qa/516//#testresult/ba9aa188f15a85db","status":"passed","time":{"start":1756797976824,"stop":1756797977221,"duration":397}},{"uid":"69ef008608ff598d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/515//#testresult/69ef008608ff598d","status":"passed","time":{"start":1756796845217,"stop":1756796845629,"duration":412}},{"uid":"14b8de47fdd68272","reportUrl":"https://pagopa.github.io/rtp-platform-qa/514//#testresult/14b8de47fdd68272","status":"passed","time":{"start":1756719570144,"stop":1756719570822,"duration":678}},{"uid":"d09fee1bc22cf25b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/513//#testresult/d09fee1bc22cf25b","status":"passed","time":{"start":1756710517922,"stop":1756710518534,"duration":612}},{"uid":"921a7061937c1e1e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/512//#testresult/921a7061937c1e1e","status":"passed","time":{"start":1756623998032,"stop":1756623998647,"duration":615}},{"uid":"ace9838d8b54f56c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/511//#testresult/ace9838d8b54f56c","status":"passed","time":{"start":1756537595726,"stop":1756537596143,"duration":417}},{"uid":"b60f94fbe4ce3681","reportUrl":"https://pagopa.github.io/rtp-platform-qa/510//#testresult/b60f94fbe4ce3681","status":"passed","time":{"start":1756451238571,"stop":1756451239057,"duration":486}},{"uid":"31dac79fd1e9ec23","reportUrl":"https://pagopa.github.io/rtp-platform-qa/509//#testresult/31dac79fd1e9ec23","status":"passed","time":{"start":1756385891593,"stop":1756385892268,"duration":675}},{"uid":"978deac64b648b9c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/508//#testresult/978deac64b648b9c","status":"passed","time":{"start":1756364860093,"stop":1756364860766,"duration":673}},{"uid":"fbf49c66b216374a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/507//#testresult/fbf49c66b216374a","status":"passed","time":{"start":1756278448887,"stop":1756278449580,"duration":693}},{"uid":"c3ef72c2ae7b20c9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/506//#testresult/c3ef72c2ae7b20c9","status":"passed","time":{"start":1756192059795,"stop":1756192060382,"duration":587}},{"uid":"e3bacb9a69b42c5c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/505//#testresult/e3bacb9a69b42c5c","status":"passed","time":{"start":1756105691365,"stop":1756105691778,"duration":413}},{"uid":"d9fb41cc2d3179d3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/504//#testresult/d9fb41cc2d3179d3","status":"passed","time":{"start":1756019195602,"stop":1756019196036,"duration":434}},{"uid":"7d6e664580f0e7a0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/503//#testresult/7d6e664580f0e7a0","status":"passed","time":{"start":1755932783762,"stop":1755932784237,"duration":475}},{"uid":"d6774c631e6945a8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/502//#testresult/d6774c631e6945a8","status":"passed","time":{"start":1755847646091,"stop":1755847646719,"duration":628}},{"uid":"ec488b7a73eb22ed","reportUrl":"https://pagopa.github.io/rtp-platform-qa/501//#testresult/ec488b7a73eb22ed","status":"passed","time":{"start":1755846445002,"stop":1755846445473,"duration":471}},{"uid":"a8d5d69ecc624d69","reportUrl":"https://pagopa.github.io/rtp-platform-qa/500//#testresult/a8d5d69ecc624d69","status":"passed","time":{"start":1755843897962,"stop":1755843898418,"duration":456}}]},"tags":["callback","unhappy_path"]},"source":"449b3b1878908483.json","parameterValues":[]}