{"uid":"c89f600d5305a068","name":"test_activation[POST /activations]","fullName":"contract-tests.test_activation#test_activation","historyId":"d067d4a64bd16ae523d35f3390ab92de","time":{"start":1765290742058,"stop":1765290743006,"duration":948},"status":"broken","statusMessage":"schemathesis.core.failures.FailureGroup: Schemathesis found 1 distinct failure\n\n- Missing header not rejected\n\n    Got 403 when missing required 'Version' header, expected 406\n\n[403] Forbidden:\n\n    `{\"errors\":[{\"code\":\"01011006F\",\"description\":\"Mismatch between Payer's RTP Service Provider ID and token subject.\"}]}`\n\nReproduce with: \n\n    curl -X POST -H 'RequestId: 0e1be6f3-63cf-482c-ab25-5bf749570ee8' -H 'Authorization: [Filtered]' -H 'Content-Type: application/json' -d '{\"payer\": {\"fiscalCode\": \"RSSMRA85T10A562S\", \"rtpSpId\": \"12345678911\"}}' https://raw.githubusercontent.com/rtp/activation/activations\n\n (1 sub-exception)","statusTrace":"+ Exception Group Traceback (most recent call last):\n  |   File \"/opt/hostedtoolcache/Python/3.14.0/x64/lib/python3.14/site-packages/schemathesis/generation/hypothesis/builder.py\", line 263, in test_activation\n  |     def test_wrapper(*args: Any, **kwargs: Any) -> Any:\n  |                ^^^\n  |   File \"/opt/hostedtoolcache/Python/3.14.0/x64/lib/python3.14/site-packages/hypothesis/core.py\", line 2172, in wrapped_test\n  |     _raise_to_user(errors, state.settings, [], \" in explicit examples\")\n  |     ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"/opt/hostedtoolcache/Python/3.14.0/x64/lib/python3.14/site-packages/hypothesis/core.py\", line 1644, in _raise_to_user\n  |     raise the_error_hypothesis_found\n  |   File \"/opt/hostedtoolcache/Python/3.14.0/x64/lib/python3.14/site-packages/schemathesis/generation/hypothesis/builder.py\", line 265, in test_wrapper\n  |     return test_function(*args, **kwargs)\n  |   File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/contract-tests/test_activation.py\", line 49, in test_activation\n  |     case.validate_response(response)\n  |     ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  |   File \"/opt/hostedtoolcache/Python/3.14.0/x64/lib/python3.14/site-packages/schemathesis/generation/case.py\", line 459, in validate_response\n  |     raise FailureGroup(_failures, message) from None\n  | schemathesis.core.failures.FailureGroup: Schemathesis found 1 distinct failure\n  | \n  | - Missing header not rejected\n  | \n  |     Got 403 when missing required 'Version' header, expected 406\n  | \n  | [403] Forbidden:\n  | \n  |     `{\"errors\":[{\"code\":\"01011006F\",\"description\":\"Mismatch between Payer's RTP Service Provider ID and token subject.\"}]}`\n  | \n  | Reproduce with: \n  | \n  |     curl -X POST -H 'RequestId: 0e1be6f3-63cf-482c-ab25-5bf749570ee8' -H 'Authorization: [Filtered]' -H 'Content-Type: application/json' -d '{\"payer\": {\"fiscalCode\": \"RSSMRA85T10A562S\", \"rtpSpId\": \"12345678911\"}}' https://raw.githubusercontent.com/rtp/activation/activations\n  | \n  |  (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | schemathesis.openapi.checks.MissingHeaderNotRejected: Missing header not rejected\n    | \n    | Got 403 when missing required 'Version' header, expected 406\n    +------------------------------------","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1765290741971,"stop":1765290742058,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"feature","value":"RTP Activation"},{"name":"parentSuite","value":"contract-tests.tests"},{"name":"tag","value":"hypothesis"},{"name":"suite","value":"test_activation"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"2541-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"contract-tests.test_activation"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["hypothesis"]},"source":"c89f600d5305a068.json","parameterValues":[]}