{"uid":"7d1932d8b755151a","name":"An RTP sent with synchronous acceptance is in status ACCEPTED - DS-05 ACTC","fullName":"functional-tests.tests.test_RTP_send_MOCK#test_send_rtp_sync_accepted_ds05_actc","historyId":"324c3683226739b6dba501f4398e005c","time":{"start":1771742659695,"stop":1771742661698,"duration":2003},"status":"failed","statusMessage":"AssertionError: assert 'SENT' == 'ACCEPTED'\n  \n  - ACCEPTED\n  + SENT","statusTrace":"debtor_service_provider_token_a = 'Bearer eyJraWQiOiJiM2MxOWIxODA0ODg0ZGFjOGViYjY3NDhlODcyZDE0ZS83ZjFkZWQzZWQ4OTA0MzEyOTYwMjU5MDIxZjY3Y2I0MCIsImFsZyI6Il...s514PyvmF0hFPyPNWWx5319DvOwChq3ZNa0A4zzxwCu8NkMPx-6G2Tflhe-9O6MTZYza_ai3i0VL2ek29dqqdSpwW4eg8knICIRsT9-sHxMMQ9GIHjO-AE'\ncreditor_service_provider_token_a = 'Bearer eyJraWQiOiJiM2MxOWIxODA0ODg0ZGFjOGViYjY3NDhlODcyZDE0ZS83ZjFkZWQzZWQ4OTA0MzEyOTYwMjU5MDIxZjY3Y2I0MCIsImFsZyI6Il...6LJ-POau0pj2dq1QAkxlNdJcVC3FRD37S9AE8UuisqI6AQfRrER81dYktYAX2MUC1tySCpGejM506W3aGKFfkoAD3_SU6EGVI4YEp8KnnNSZUvosKgCuw8'\nrtp_reader_access_token = 'Bearer eyJraWQiOiJiM2MxOWIxODA0ODg0ZGFjOGViYjY3NDhlODcyZDE0ZS83ZjFkZWQzZWQ4OTA0MzEyOTYwMjU5MDIxZjY3Y2I0MCIsImFsZyI6Il...PsLmS47IdC8pxt4sw7hFPTjEa8BtAZ3mykDvi1Saf_6ivISWXW1AewfrJ7eposGy7eqbtXSz0su2FXwcmRzq-U-2tCkwArJJ6sg-sp5G3ojZ9OV_5cbN0k'\n\n    @allure.epic('RTP Send')\n    @allure.feature('RTP Send')\n    @allure.story('Service provider sends an RTP with synchronous ACTC response')\n    @allure.title('An RTP sent with synchronous acceptance is in status ACCEPTED - DS-05 ACTC')\n    @allure.tag('functional', 'happy_path', 'rtp_send', 'ds_05_actc')\n    @pytest.mark.send\n    @pytest.mark.happy_path\n    def test_send_rtp_sync_accepted_ds05_actc(\n        debtor_service_provider_token_a,\n        creditor_service_provider_token_a,\n        rtp_reader_access_token,\n    ):\n        rtp_data = generate_rtp_data(payer_id=secrets.mock_actc_fiscal_code)\n    \n        activation_response = activate(\n            debtor_service_provider_token_a,\n            rtp_data['payer']['payerId'],\n            secrets.debtor_service_provider.service_provider_id,\n        )\n        assert activation_response.status_code in (201, 409), 'Error activating debtor'\n    \n        send_response = send_rtp(\n            access_token=creditor_service_provider_token_a,\n            rtp_payload=rtp_data,\n        )\n        assert send_response.status_code == 201\n    \n        location = send_response.headers['Location']\n        resource_id = location.split('/')[-1]\n    \n        get_response = get_rtp(\n            access_token=rtp_reader_access_token,\n            rtp_id=resource_id,\n        )\n        assert get_response.status_code == 200\n>       assert get_response.json()['status'] == 'ACCEPTED'\nE       AssertionError: assert 'SENT' == 'ACCEPTED'\nE         \nE         - ACCEPTED\nE         + SENT\n\nfunctional-tests/tests/test_RTP_send_MOCK.py:149: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1771742450094,"stop":1771742450160,"duration":66},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"debtor_service_provider_token_a","time":{"start":1771742658127,"stop":1771742658644,"duration":517},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"creditor_service_provider_token_a","time":{"start":1771742658644,"stop":1771742659172,"duration":528},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"rtp_reader_access_token","time":{"start":1771742659172,"stop":1771742659694,"duration":522},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"tag","value":"happy_path"},{"name":"epic","value":"RTP Send"},{"name":"feature","value":"RTP Send"},{"name":"tag","value":"rtp_send"},{"name":"tag","value":"ds_05_actc"},{"name":"story","value":"Service provider sends an RTP with synchronous ACTC response"},{"name":"tag","value":"functional"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"send"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_RTP_send_MOCK"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"2670-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_RTP_send_MOCK"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":3},"items":[{"uid":"5c007d9eb3eea9af","reportUrl":"https://pagopa.github.io/rtp-platform-qa/832/#testresult/5c007d9eb3eea9af","status":"failed","statusDetails":"AssertionError: assert 'SENT' == 'ACCEPTED'\n  \n  - ACCEPTED\n  + SENT","time":{"start":1771655963680,"stop":1771655965546,"duration":1866}},{"uid":"90228bcd74c8631b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/831/#testresult/90228bcd74c8631b","status":"failed","statusDetails":"AssertionError: assert 'SENT' == 'ACCEPTED'\n  \n  - ACCEPTED\n  + SENT","time":{"start":1771594659712,"stop":1771594661030,"duration":1318}}]},"tags":["rtp_send","functional","ds_05_actc","send","happy_path"]},"source":"7d1932d8b755151a.json","parameterValues":[]}