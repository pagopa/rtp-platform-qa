{"uid":"bd8033e8f2ad84ee","name":"An authenticated Service Provider cannot send an RTP to an activated debtor","fullName":"A Creditor Service Provider sends an RTP through API: An authenticated Service Provider cannot send an RTP to an activated debtor","historyId":"6405207ec163b1b347ffd9712145ef9a","time":{"start":1758271190018,"stop":1758271190418,"duration":400},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 502 Server Error: Bad Gateway for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"requests.exceptions.HTTPError: 502 Server Error: Bad Gateway for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[{"name":"Given the debtor A has fiscal code random","time":{"start":1758271190019,"stop":1758271190019,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And the debtor Service Provider is authenticated","time":{"start":1758271190019,"stop":1758271190417,"duration":398},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 502 Server Error: Bad Gateway for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"bdd-tests/steps/auth_steps.py\", line 17, in given_ec_on_page\n    access_token = get_valid_access_token(client_id=client_id,\n                                          client_secret=client_secret,\n                                          access_token_function=get_access_token)\n  File \"/home/runner/work/rtp-platform-qa/rtp-platform-qa/api/auth.py\", line 8, in get_valid_access_token\n    token_response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Given the creditor Service Provider is authenticated","time":{"start":1758271190418,"stop":1758271190418,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And the debtor Service Provider activated the debtor A","time":{"start":1758271190418,"stop":1758271190418,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When the creditor Service Provider is unauthenticated","time":{"start":1758271190418,"stop":1758271190418,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And the creditor Service Provider sends an RTP to the debtor A","time":{"start":1758271190418,"stop":1758271190418,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then the RTP is not created because the Service Provider is not authenticated","time":{"start":1758271190418,"stop":1758271190418,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"authentication"},{"name":"tag","value":"send"},{"name":"tag","value":"unhappy_path"},{"name":"feature","value":"A Creditor Service Provider sends an RTP through API"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":17,"skipped":0,"passed":243,"unknown":0,"total":263},"items":[{"uid":"7f107ba506ddb778","reportUrl":"https://pagopa.github.io/rtp-platform-qa/536//#testresult/7f107ba506ddb778","status":"passed","time":{"start":1758267241715,"stop":1758267244889,"duration":3174}},{"uid":"b26b4960d3930972","reportUrl":"https://pagopa.github.io/rtp-platform-qa/535//#testresult/b26b4960d3930972","status":"passed","time":{"start":1758180837095,"stop":1758180838978,"duration":1883}},{"uid":"a7ea41475951c6ef","reportUrl":"https://pagopa.github.io/rtp-platform-qa/534//#testresult/a7ea41475951c6ef","status":"passed","time":{"start":1758094412785,"stop":1758094414718,"duration":1933}},{"uid":"c8f1f1d09906c04e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/533//#testresult/c8f1f1d09906c04e","status":"passed","time":{"start":1758008089116,"stop":1758008091169,"duration":2053}},{"uid":"a53ebcc8a03f9c69","reportUrl":"https://pagopa.github.io/rtp-platform-qa/532//#testresult/a53ebcc8a03f9c69","status":"passed","time":{"start":1757921726389,"stop":1757921728278,"duration":1889}},{"uid":"b1373ba1eed3f809","reportUrl":"https://pagopa.github.io/rtp-platform-qa/531//#testresult/b1373ba1eed3f809","status":"passed","time":{"start":1757835270414,"stop":1757835272228,"duration":1814}},{"uid":"f3f2807e84b4233","reportUrl":"https://pagopa.github.io/rtp-platform-qa/530//#testresult/f3f2807e84b4233","status":"passed","time":{"start":1757748913783,"stop":1757748915692,"duration":1909}},{"uid":"f794f891e590895c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/529//#testresult/f794f891e590895c","status":"passed","time":{"start":1757666637806,"stop":1757666640850,"duration":3044}},{"uid":"b3371c5154f76fb0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/528//#testresult/b3371c5154f76fb0","status":"passed","time":{"start":1757662435484,"stop":1757662438743,"duration":3259}},{"uid":"1dc95ce20943bcb0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/527//#testresult/1dc95ce20943bcb0","status":"passed","time":{"start":1757599124112,"stop":1757599127401,"duration":3289}},{"uid":"b02510fa0bd46be1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/526//#testresult/b02510fa0bd46be1","status":"passed","time":{"start":1757576046300,"stop":1757576049101,"duration":2801}},{"uid":"15ba0348b98a54a3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/525//#testresult/15ba0348b98a54a3","status":"passed","time":{"start":1757489807861,"stop":1757489810668,"duration":2807}},{"uid":"f2d544454800b6a8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/524//#testresult/f2d544454800b6a8","status":"passed","time":{"start":1757402720149,"stop":1757402721980,"duration":1831}},{"uid":"3e2f8ee9da694946","reportUrl":"https://pagopa.github.io/rtp-platform-qa/523//#testresult/3e2f8ee9da694946","status":"passed","time":{"start":1757316322107,"stop":1757316324207,"duration":2100}},{"uid":"3e2bc4543041d029","reportUrl":"https://pagopa.github.io/rtp-platform-qa/522//#testresult/3e2bc4543041d029","status":"passed","time":{"start":1757229863877,"stop":1757229865734,"duration":1857}},{"uid":"7267b88ec47a144a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/521//#testresult/7267b88ec47a144a","status":"passed","time":{"start":1757143412278,"stop":1757143414245,"duration":1967}},{"uid":"5d65d5a109dccca0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/520//#testresult/5d65d5a109dccca0","status":"passed","time":{"start":1757057260151,"stop":1757057262964,"duration":2813}},{"uid":"fdcaba210f936e95","reportUrl":"https://pagopa.github.io/rtp-platform-qa/519//#testresult/fdcaba210f936e95","status":"passed","time":{"start":1756969854689,"stop":1756969857724,"duration":3035}},{"uid":"4b0e6b6dcfd6bdc0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/518//#testresult/4b0e6b6dcfd6bdc0","status":"passed","time":{"start":1756911074110,"stop":1756911077413,"duration":3303}},{"uid":"dd5ccff9dbaedb95","reportUrl":"https://pagopa.github.io/rtp-platform-qa/517//#testresult/dd5ccff9dbaedb95","status":"passed","time":{"start":1756883423497,"stop":1756883426331,"duration":2834}}]},"tags":["send","unhappy_path","authentication"]},"source":"bd8033e8f2ad84ee.json","parameterValues":[]}