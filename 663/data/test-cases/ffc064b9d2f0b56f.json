{"uid":"ffc064b9d2f0b56f","name":"An RTP is sent through CBI API","fullName":"functional-tests.tests.test_debtor_service_provider_availability#test_send_rtp_to_cbi","historyId":"02bce6347ef196fe199a14c6e2a830f5","time":{"start":1763274294773,"stop":1763274301324,"duration":6551},"status":"failed","statusMessage":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","statusTrace":"@allure.feature('RTP Send')\n    @allure.story('Service provider sends an RTP to CBI directly')\n    @allure.title('An RTP is sent through CBI API')\n    @pytest.mark.send\n    @pytest.mark.happy_path\n    @pytest.mark.cbi\n    def test_send_rtp_to_cbi():\n        rtp_data = generate_rtp_data()\n        cbi_payload = generate_epc_rtp_data(rtp_data, bic='UNCRITMM')\n    \n        auth = client_credentials_to_auth_token(\n            secrets.CBI_client_id, secrets.CBI_client_secret\n        )\n        cert, key = pfx_to_pem(\n            secrets.CBI_client_PFX_base64,\n            secrets.CBI_client_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n        cbi_token = get_cbi_access_token(cert, key, auth)\n        response = send_srtp_to_cbi(f\"Bearer {cbi_token}\", cbi_payload)\n>       assert response.status_code == 201\nE       assert 400 == 201\nE        +  where 400 = <Response [400]>.status_code\n\nfunctional-tests/tests/test_debtor_service_provider_availability.py:57: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1763274123670,"stop":1763274123735,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"feature","value":"RTP Send"},{"name":"story","value":"Service provider sends an RTP to CBI directly"},{"name":"tag","value":"cbi"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"send"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_debtor_service_provider_availability"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2505-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_debtor_service_provider_availability"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":25,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":36},"items":[{"uid":"10acae7041db62fe","reportUrl":"https://pagopa.github.io/rtp-platform-qa/662/#testresult/10acae7041db62fe","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763187862459,"stop":1763187869214,"duration":6755}},{"uid":"903168f5e95b3eb7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/661/#testresult/903168f5e95b3eb7","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763101619082,"stop":1763101625934,"duration":6852}},{"uid":"9f2f0b2902b1ffff","reportUrl":"https://pagopa.github.io/rtp-platform-qa/660/#testresult/9f2f0b2902b1ffff","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763044387185,"stop":1763044393314,"duration":6129}},{"uid":"f3cf3185d598f3a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/659/#testresult/f3cf3185d598f3a","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763015147354,"stop":1763015154193,"duration":6839}},{"uid":"6546b97f9b3f68f1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/658/#testresult/6546b97f9b3f68f1","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1762965031093,"stop":1762965037336,"duration":6243}},{"uid":"cb2709b5bbf08a80","reportUrl":"https://pagopa.github.io/rtp-platform-qa/657/#testresult/cb2709b5bbf08a80","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1762956768806,"stop":1762956775298,"duration":6492}},{"uid":"3bac60e4cb8702f7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/656/#testresult/3bac60e4cb8702f7","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1762941854924,"stop":1762941862157,"duration":7233}},{"uid":"925ea311807925df","reportUrl":"https://pagopa.github.io/rtp-platform-qa/603//#testresult/925ea311807925df","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1762151134153,"stop":1762151140526,"duration":6373}},{"uid":"5702d1925960c767","reportUrl":"https://pagopa.github.io/rtp-platform-qa/602//#testresult/5702d1925960c767","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1762064577813,"stop":1762064583867,"duration":6054}},{"uid":"9862ffee7c01e4ce","reportUrl":"https://pagopa.github.io/rtp-platform-qa/601//#testresult/9862ffee7c01e4ce","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761978098902,"stop":1761978105145,"duration":6243}},{"uid":"fb4fba82f4e013e7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/600//#testresult/fb4fba82f4e013e7","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761891884035,"stop":1761891890567,"duration":6532}},{"uid":"39cd0effba2bdc4f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/599//#testresult/39cd0effba2bdc4f","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761837089919,"stop":1761837096705,"duration":6786}},{"uid":"ea78456dcbcaf317","reportUrl":"https://pagopa.github.io/rtp-platform-qa/598//#testresult/ea78456dcbcaf317","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761818872113,"stop":1761818878459,"duration":6346}},{"uid":"66a2d25db6cf82a7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/597//#testresult/66a2d25db6cf82a7","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761805395790,"stop":1761805398384,"duration":2594}},{"uid":"bbc4253c448a58af","reportUrl":"https://pagopa.github.io/rtp-platform-qa/596//#testresult/bbc4253c448a58af","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761752098338,"stop":1761752104898,"duration":6560}},{"uid":"669d3c499dfd670c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/595//#testresult/669d3c499dfd670c","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761719097058,"stop":1761719104254,"duration":7196}},{"uid":"d0027ae0e21fc512","reportUrl":"https://pagopa.github.io/rtp-platform-qa/594//#testresult/d0027ae0e21fc512","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761632726311,"stop":1761632733791,"duration":7480}},{"uid":"a902577e2a1c1673","reportUrl":"https://pagopa.github.io/rtp-platform-qa/593//#testresult/a902577e2a1c1673","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761546381544,"stop":1761546393494,"duration":11950}},{"uid":"a6016cece6a01199","reportUrl":"https://pagopa.github.io/rtp-platform-qa/592//#testresult/a6016cece6a01199","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761459737018,"stop":1761459743397,"duration":6379}},{"uid":"59d62621cfd311ff","reportUrl":"https://pagopa.github.io/rtp-platform-qa/591//#testresult/59d62621cfd311ff","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761373295198,"stop":1761373301825,"duration":6627}}]},"tags":["cbi","send","happy_path"]},"source":"ffc064b9d2f0b56f.json","parameterValues":[]}