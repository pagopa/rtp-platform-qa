{"uid":"fb49f2d55458335a","name":"Debtor fiscal code must be lower case during RTP send","fullName":"functional-tests.tests.test_send_rtp#test_cannot_send_rtp_api_lower_fiscal_code","historyId":"63e074ff548dee7e1b8c99d58f848b1e","time":{"start":1764671077888,"stop":1764671079675,"duration":1787},"status":"failed","statusMessage":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"@allure.feature('RTP Send')\n    @allure.story('Service provider sends an RTP')\n    @allure.title('Debtor fiscal code must be lower case during RTP send')\n    @pytest.mark.send\n    @pytest.mark.unhappy_path\n    def test_cannot_send_rtp_api_lower_fiscal_code():\n        rtp_data = generate_rtp_data()\n    \n        debtor_service_provider_access_token = get_valid_access_token(\n            client_id=secrets.debtor_service_provider.client_id,\n            client_secret=secrets.debtor_service_provider.client_secret,\n            access_token_function=get_access_token,\n        )\n    \n        creditor_service_provider_access_token = get_valid_access_token(\n            client_id=secrets.creditor_service_provider.client_id,\n            client_secret=secrets.creditor_service_provider.client_secret,\n            access_token_function=get_access_token,\n        )\n    \n        res = activate(\n            debtor_service_provider_access_token,\n            rtp_data['payer']['payerId'],\n            secrets.debtor_service_provider.service_provider_id,\n        )\n        assert res.status_code == 201, 'Error activating debtor'\n    \n        rtp_data['payer']['payerId'] = rtp_data['payer']['payerId'].lower()\n        response = send_rtp(\n            access_token=creditor_service_provider_access_token, rtp_payload=rtp_data\n        )\n>       assert response.status_code == 400\nE       assert 503 == 400\nE        +  where 503 = <Response [503]>.status_code\n\nfunctional-tests/tests/test_send_rtp.py:185: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1764671006960,"stop":1764671007027,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"feature","value":"RTP Send"},{"name":"story","value":"Service provider sends an RTP"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"send"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_send_rtp"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2502-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_send_rtp"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":7,"broken":0,"skipped":0,"passed":55,"unknown":0,"total":62},"items":[{"uid":"c9c5c92368ef5a66","reportUrl":"https://pagopa.github.io/rtp-platform-qa/688/#testresult/c9c5c92368ef5a66","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1764670311931,"stop":1764670313898,"duration":1967}},{"uid":"8b5b8e68ba1ec654","reportUrl":"https://pagopa.github.io/rtp-platform-qa/687/#testresult/8b5b8e68ba1ec654","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1764668969987,"stop":1764668971666,"duration":1679}},{"uid":"13f78c615f795370","reportUrl":"https://pagopa.github.io/rtp-platform-qa/686/#testresult/13f78c615f795370","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1764656919783,"stop":1764656921539,"duration":1756}},{"uid":"5669ea8437c62d50","reportUrl":"https://pagopa.github.io/rtp-platform-qa/685/#testresult/5669ea8437c62d50","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1764598841215,"stop":1764598843757,"duration":2542}},{"uid":"4605b566201473aa","reportUrl":"https://pagopa.github.io/rtp-platform-qa/684/#testresult/4605b566201473aa","status":"passed","time":{"start":1764590065004,"stop":1764590067552,"duration":2548}},{"uid":"a94f99d29e6cdda5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/683/#testresult/a94f99d29e6cdda5","status":"passed","time":{"start":1764570590341,"stop":1764570591892,"duration":1551}},{"uid":"3e6f6ab4465c2f99","reportUrl":"https://pagopa.github.io/rtp-platform-qa/682/#testresult/3e6f6ab4465c2f99","status":"passed","time":{"start":1764483990652,"stop":1764483993142,"duration":2490}},{"uid":"cccc5d18017252e7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/681/#testresult/cccc5d18017252e7","status":"passed","time":{"start":1764397497893,"stop":1764397499626,"duration":1733}},{"uid":"cab87a0dcf7ab10b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/680/#testresult/cab87a0dcf7ab10b","status":"passed","time":{"start":1764311276044,"stop":1764311277833,"duration":1789}},{"uid":"473cf5abcbdf420e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/679/#testresult/473cf5abcbdf420e","status":"passed","time":{"start":1764224886448,"stop":1764224888793,"duration":2345}},{"uid":"40f7effdee80b06b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/678/#testresult/40f7effdee80b06b","status":"passed","time":{"start":1764165421110,"stop":1764165423689,"duration":2579}},{"uid":"ce29d0c70cc8a3c8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/677/#testresult/ce29d0c70cc8a3c8","status":"passed","time":{"start":1764163729061,"stop":1764163730657,"duration":1596}},{"uid":"d4d8fd575b0b0e97","reportUrl":"https://pagopa.github.io/rtp-platform-qa/676/#testresult/d4d8fd575b0b0e97","status":"passed","time":{"start":1764138468184,"stop":1764138470468,"duration":2284}},{"uid":"446fe1ee5f18d411","reportUrl":"https://pagopa.github.io/rtp-platform-qa/675/#testresult/446fe1ee5f18d411","status":"passed","time":{"start":1764052072303,"stop":1764052074276,"duration":1973}},{"uid":"23193fda6e0abc8e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/674/#testresult/23193fda6e0abc8e","status":"passed","time":{"start":1763985454935,"stop":1763985457616,"duration":2681}},{"uid":"d3dbb443ea23d7b7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/673/#testresult/d3dbb443ea23d7b7","status":"passed","time":{"start":1763982845596,"stop":1763982847134,"duration":1538}},{"uid":"acaff48858bd471d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/672/#testresult/acaff48858bd471d","status":"passed","time":{"start":1763978666928,"stop":1763978669555,"duration":2627}},{"uid":"753cc60d58bcc484","reportUrl":"https://pagopa.github.io/rtp-platform-qa/671/#testresult/753cc60d58bcc484","status":"passed","time":{"start":1763965692270,"stop":1763965694170,"duration":1900}},{"uid":"3a6f6c4d820fc739","reportUrl":"https://pagopa.github.io/rtp-platform-qa/670/#testresult/3a6f6c4d820fc739","status":"passed","time":{"start":1763879121134,"stop":1763879123049,"duration":1915}},{"uid":"6ba3b4e61184edb1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/669/#testresult/6ba3b4e61184edb1","status":"passed","time":{"start":1763792691229,"stop":1763792693704,"duration":2475}}]},"tags":["unhappy_path","send"]},"source":"fb49f2d55458335a.json","parameterValues":[]}