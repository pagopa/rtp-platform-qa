{"uid":"acacabb5811357b0","name":"Unauthorized callback due to wrong certificate serial","fullName":"functional-tests.tests.test_callback#test_fail_send_rtp_callback_wrong_certificate_serial_DS_08N_compliant","historyId":"7ea70ef13b59ebb53e14eb9e43e830cc","time":{"start":1763447172414,"stop":1763447172926,"duration":512},"status":"failed","statusMessage":"AssertionError: Expecting error from callback, expected 403 got 503\nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","statusTrace":"@allure.feature('RTP Callback')\n    @allure.story('Service provider sends a callback referred to an RTP')\n    @allure.title('Unauthorized callback due to wrong certificate serial')\n    @pytest.mark.callback\n    @pytest.mark.unhappy_path\n    def test_fail_send_rtp_callback_wrong_certificate_serial_DS_08N_compliant():\n        callback_data = generate_callback_data_DS_08N_compliant(BIC='MOCKSP01')\n    \n        cert, key = pfx_to_pem(\n            secrets.debtor_service_provider_mock_PFX_base64,\n            secrets.debtor_service_provider_mock_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n    \n        callback_response = srtp_callback(\n            rtp_payload=callback_data, cert_path=cert, key_path=key\n        )\n>       assert (\n            callback_response.status_code == 403\n        ), f\"Expecting error from callback, expected 403 got {callback_response.status_code}\"\nE       AssertionError: Expecting error from callback, expected 403 got 503\nE       assert 503 == 403\nE        +  where 503 = <Response [503]>.status_code\n\nfunctional-tests/tests/test_callback.py:264: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1763447025078,"stop":1763447025135,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"feature","value":"RTP Callback"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2519-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":37,"unknown":0,"total":38},"items":[{"uid":"f774a350e1c728ca","reportUrl":"https://pagopa.github.io/rtp-platform-qa/664/#testresult/f774a350e1c728ca","status":"passed","time":{"start":1763360828211,"stop":1763360828745,"duration":534}},{"uid":"4ba9d43c13367b49","reportUrl":"https://pagopa.github.io/rtp-platform-qa/663/#testresult/4ba9d43c13367b49","status":"passed","time":{"start":1763274283719,"stop":1763274284258,"duration":539}},{"uid":"2058d63e998c3af0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/662/#testresult/2058d63e998c3af0","status":"passed","time":{"start":1763187848470,"stop":1763187849164,"duration":694}},{"uid":"f35ca18c32ddecce","reportUrl":"https://pagopa.github.io/rtp-platform-qa/661/#testresult/f35ca18c32ddecce","status":"passed","time":{"start":1763101604844,"stop":1763101605616,"duration":772}},{"uid":"6555a687aeafe1c9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/660/#testresult/6555a687aeafe1c9","status":"passed","time":{"start":1763044377904,"stop":1763044378366,"duration":462}},{"uid":"a334c7f2c23e91b5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/659/#testresult/a334c7f2c23e91b5","status":"passed","time":{"start":1763015132773,"stop":1763015133522,"duration":749}},{"uid":"1b6630d21530eb77","reportUrl":"https://pagopa.github.io/rtp-platform-qa/658/#testresult/1b6630d21530eb77","status":"passed","time":{"start":1762965020530,"stop":1762965021096,"duration":566}},{"uid":"44405fcd8fee33d7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/657/#testresult/44405fcd8fee33d7","status":"passed","time":{"start":1762956753819,"stop":1762956754612,"duration":793}},{"uid":"729139847457b42f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/656/#testresult/729139847457b42f","status":"passed","time":{"start":1762941844696,"stop":1762941845180,"duration":484}},{"uid":"7d0d56d9b7452ad","reportUrl":"https://pagopa.github.io/rtp-platform-qa/603//#testresult/7d0d56d9b7452ad","status":"passed","time":{"start":1762151123857,"stop":1762151124409,"duration":552}},{"uid":"f91730b67cffa175","reportUrl":"https://pagopa.github.io/rtp-platform-qa/602//#testresult/f91730b67cffa175","status":"passed","time":{"start":1762064565729,"stop":1762064566342,"duration":613}},{"uid":"58d5d84e094f0c8e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/601//#testresult/58d5d84e094f0c8e","status":"passed","time":{"start":1761978088788,"stop":1761978089287,"duration":499}},{"uid":"5b4db73d5ace41b7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/600//#testresult/5b4db73d5ace41b7","status":"passed","time":{"start":1761891871789,"stop":1761891872353,"duration":564}},{"uid":"af27b3018c93a7a0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/599//#testresult/af27b3018c93a7a0","status":"passed","time":{"start":1761837078441,"stop":1761837079016,"duration":575}},{"uid":"1fd944621a9d803d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/598//#testresult/1fd944621a9d803d","status":"passed","time":{"start":1761818860694,"stop":1761818861272,"duration":578}},{"uid":"76830b7d58414c21","reportUrl":"https://pagopa.github.io/rtp-platform-qa/597//#testresult/76830b7d58414c21","status":"passed","time":{"start":1761805381848,"stop":1761805382586,"duration":738}},{"uid":"4bd99fc97fd1d772","reportUrl":"https://pagopa.github.io/rtp-platform-qa/596//#testresult/4bd99fc97fd1d772","status":"passed","time":{"start":1761752088576,"stop":1761752089112,"duration":536}},{"uid":"1f26a911a0009e0d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/595//#testresult/1f26a911a0009e0d","status":"passed","time":{"start":1761719084133,"stop":1761719084851,"duration":718}},{"uid":"86d89b28e9143ebd","reportUrl":"https://pagopa.github.io/rtp-platform-qa/594//#testresult/86d89b28e9143ebd","status":"passed","time":{"start":1761632716226,"stop":1761632716785,"duration":559}},{"uid":"1db17d019aba37c6","reportUrl":"https://pagopa.github.io/rtp-platform-qa/593//#testresult/1db17d019aba37c6","status":"passed","time":{"start":1761546367132,"stop":1761546367890,"duration":758}}]},"tags":["callback","unhappy_path"]},"source":"acacabb5811357b0.json","parameterValues":[]}