{"uid":"78900a2b1a846c3a","name":"Failed callback for non existing Service Provider - DS-04b compliant","fullName":"tests.test_callback#test_fail_send_rtp_callback_non_existing_service_provider_DS_04b_compliant","historyId":"0976199b3442c36a3644cccfb991668c","time":{"start":1759919595557,"stop":1759919596088,"duration":531},"status":"failed","statusMessage":"AssertionError: Expecting error from callback, expected 400 got 500\nassert 500 == 400\n +  where 500 = <Response [500]>.status_code","statusTrace":"@allure.feature('RTP Callback')\n    @allure.story('Service provider sends a callback referred to an RTP')\n    @allure.title('Failed callback for non existing Service Provider - DS-04b compliant')\n    @pytest.mark.callback\n    @pytest.mark.unhappy_path\n    def test_fail_send_rtp_callback_non_existing_service_provider_DS_04b_compliant():\n        callback_data = generate_callback_data_DS_04b_compliant(BIC='MOCKSP99')\n    \n        cert, key = pfx_to_pem(\n            secrets.debtor_service_provider_mock_PFX_base64,\n            secrets.debtor_service_provider_mock_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n    \n        callback_response = srtp_callback(\n            rtp_payload=callback_data, cert_path=cert, key_path=key\n        )\n>       assert (\n            callback_response.status_code == 400\n        ), f\"Expecting error from callback, expected 400 got {callback_response.status_code}\"\nE       AssertionError: Expecting error from callback, expected 400 got 500\nE       assert 500 == 400\nE        +  where 500 = <Response [500]>.status_code\n\nfunctional-tests/tests/test_callback.py:287: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1759919573541,"stop":1759919573602,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"feature","value":"RTP Callback"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"2509-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":229,"unknown":0,"total":233},"items":[{"uid":"1558ab1203a6d361","reportUrl":"https://pagopa.github.io/rtp-platform-qa/558//#testresult/1558ab1203a6d361","status":"failed","statusDetails":"AssertionError: Expecting error from callback, expected 400 got 500\nassert 500 == 400\n +  where 500 = <Response [500]>.status_code","time":{"start":1759908053997,"stop":1759908054594,"duration":597}},{"uid":"c7c1790b50a0fe9c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/557//#testresult/c7c1790b50a0fe9c","status":"passed","time":{"start":1759821688548,"stop":1759821689142,"duration":594}},{"uid":"b375fd1a7b17085d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/556//#testresult/b375fd1a7b17085d","status":"passed","time":{"start":1759735340434,"stop":1759735341168,"duration":734}},{"uid":"e035327902ee06ce","reportUrl":"https://pagopa.github.io/rtp-platform-qa/555//#testresult/e035327902ee06ce","status":"passed","time":{"start":1759648717240,"stop":1759648717712,"duration":472}},{"uid":"5733f68a2fbfe3e7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/554//#testresult/5733f68a2fbfe3e7","status":"passed","time":{"start":1759562358278,"stop":1759562359013,"duration":735}},{"uid":"127767a6339c5f66","reportUrl":"https://pagopa.github.io/rtp-platform-qa/553//#testresult/127767a6339c5f66","status":"passed","time":{"start":1759483559716,"stop":1759483560440,"duration":724}},{"uid":"56aaaf5d4e2c0392","reportUrl":"https://pagopa.github.io/rtp-platform-qa/552//#testresult/56aaaf5d4e2c0392","status":"passed","time":{"start":1759476037558,"stop":1759476038262,"duration":704}},{"uid":"92b4e86e4601a63d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/551//#testresult/92b4e86e4601a63d","status":"passed","time":{"start":1759389612445,"stop":1759389612940,"duration":495}},{"uid":"929e271e12af30c2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/550//#testresult/929e271e12af30c2","status":"passed","time":{"start":1759315766588,"stop":1759315767123,"duration":535}},{"uid":"d98bc9eeea004b55","reportUrl":"https://pagopa.github.io/rtp-platform-qa/549//#testresult/d98bc9eeea004b55","status":"passed","time":{"start":1759303342426,"stop":1759303342933,"duration":507}},{"uid":"a3c72ba3fafc65cc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/548//#testresult/a3c72ba3fafc65cc","status":"passed","time":{"start":1759216950394,"stop":1759216950982,"duration":588}},{"uid":"af08016d6d6a3de5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/547//#testresult/af08016d6d6a3de5","status":"passed","time":{"start":1759130563676,"stop":1759130564149,"duration":473}},{"uid":"f71c05b35cc410bc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/546//#testresult/f71c05b35cc410bc","status":"passed","time":{"start":1759043966078,"stop":1759043966851,"duration":773}},{"uid":"90a4510a7e9f40bd","reportUrl":"https://pagopa.github.io/rtp-platform-qa/545//#testresult/90a4510a7e9f40bd","status":"passed","time":{"start":1758957530873,"stop":1758957531432,"duration":559}},{"uid":"40285bcaab15598c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/544//#testresult/40285bcaab15598c","status":"passed","time":{"start":1758871288606,"stop":1758871289340,"duration":734}},{"uid":"24be22f044de5dda","reportUrl":"https://pagopa.github.io/rtp-platform-qa/543//#testresult/24be22f044de5dda","status":"passed","time":{"start":1758784902865,"stop":1758784903350,"duration":485}},{"uid":"84b42a9a957c159b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/542//#testresult/84b42a9a957c159b","status":"passed","time":{"start":1758698502177,"stop":1758698502890,"duration":713}},{"uid":"e94e6bc63306718f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/541//#testresult/e94e6bc63306718f","status":"passed","time":{"start":1758612128868,"stop":1758612129599,"duration":731}},{"uid":"7188f8c365465313","reportUrl":"https://pagopa.github.io/rtp-platform-qa/540//#testresult/7188f8c365465313","status":"passed","time":{"start":1758525792363,"stop":1758525793122,"duration":759}},{"uid":"2cad9b23fdfba85c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/539//#testresult/2cad9b23fdfba85c","status":"passed","time":{"start":1758439138060,"stop":1758439138736,"duration":676}}]},"tags":["callback","unhappy_path"]},"source":"78900a2b1a846c3a.json","parameterValues":[]}