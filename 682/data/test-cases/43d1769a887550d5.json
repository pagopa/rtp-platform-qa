{"uid":"43d1769a887550d5","name":"An RTP is sent through CBI API","fullName":"functional-tests.tests.test_debtor_service_provider_availability#test_send_rtp_to_cbi","historyId":"02bce6347ef196fe199a14c6e2a830f5","time":{"start":1764483955830,"stop":1764483958081,"duration":2251},"status":"failed","statusMessage":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","statusTrace":"@allure.feature('RTP Send')\n    @allure.story('Service provider sends an RTP to CBI directly')\n    @allure.title('An RTP is sent through CBI API')\n    @pytest.mark.send\n    @pytest.mark.happy_path\n    @pytest.mark.cbi\n    def test_send_rtp_to_cbi():\n        rtp_data = generate_rtp_data()\n        cbi_payload = generate_epc_rtp_data(rtp_data, bic='UNCRITMM')\n    \n        auth = client_credentials_to_auth_token(\n            secrets.CBI_client_id, secrets.CBI_client_secret\n        )\n        cert, key = pfx_to_pem(\n            secrets.CBI_client_PFX_base64,\n            secrets.CBI_client_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n        cbi_token = get_cbi_access_token(cert, key, auth)\n        response = send_srtp_to_cbi(f\"Bearer {cbi_token}\", cbi_payload)\n>       assert response.status_code == 201\nE       assert 400 == 201\nE        +  where 400 = <Response [400]>.status_code\n\nfunctional-tests/tests/test_debtor_service_provider_availability.py:57: AssertionError","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1764483786163,"stop":1764483786231,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"feature","value":"RTP Send"},{"name":"story","value":"Service provider sends an RTP to CBI directly"},{"name":"tag","value":"cbi"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"send"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_debtor_service_provider_availability"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2518-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_debtor_service_provider_availability"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":31,"broken":0,"skipped":0,"passed":24,"unknown":0,"total":55},"items":[{"uid":"1e54e440cee93847","reportUrl":"https://pagopa.github.io/rtp-platform-qa/681/#testresult/1e54e440cee93847","status":"passed","time":{"start":1764397462254,"stop":1764397468639,"duration":6385}},{"uid":"bf6680ccd97fff7f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/680/#testresult/bf6680ccd97fff7f","status":"passed","time":{"start":1764311245092,"stop":1764311251268,"duration":6176}},{"uid":"142c50964eff3246","reportUrl":"https://pagopa.github.io/rtp-platform-qa/679/#testresult/142c50964eff3246","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1764224851652,"stop":1764224854350,"duration":2698}},{"uid":"637e7605f5dd667b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/678/#testresult/637e7605f5dd667b","status":"passed","time":{"start":1764165382115,"stop":1764165386854,"duration":4739}},{"uid":"26160c694f83c082","reportUrl":"https://pagopa.github.io/rtp-platform-qa/677/#testresult/26160c694f83c082","status":"passed","time":{"start":1764163699667,"stop":1764163704141,"duration":4474}},{"uid":"22a54c71f948173b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/676/#testresult/22a54c71f948173b","status":"passed","time":{"start":1764138429048,"stop":1764138434525,"duration":5477}},{"uid":"deefcba54f03d3cf","reportUrl":"https://pagopa.github.io/rtp-platform-qa/675/#testresult/deefcba54f03d3cf","status":"passed","time":{"start":1764052039710,"stop":1764052046804,"duration":7094}},{"uid":"81e04badd3a53fa4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/674/#testresult/81e04badd3a53fa4","status":"passed","time":{"start":1763985424554,"stop":1763985427867,"duration":3313}},{"uid":"bdf1c21ec34d4a66","reportUrl":"https://pagopa.github.io/rtp-platform-qa/673/#testresult/bdf1c21ec34d4a66","status":"passed","time":{"start":1763982818029,"stop":1763982821687,"duration":3658}},{"uid":"7fb9a5165a774123","reportUrl":"https://pagopa.github.io/rtp-platform-qa/672/#testresult/7fb9a5165a774123","status":"passed","time":{"start":1763978627456,"stop":1763978631529,"duration":4073}},{"uid":"35975147b0f4725c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/671/#testresult/35975147b0f4725c","status":"passed","time":{"start":1763965656513,"stop":1763965664516,"duration":8003}},{"uid":"9cdbd644a433e42a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/670/#testresult/9cdbd644a433e42a","status":"passed","time":{"start":1763879090181,"stop":1763879095729,"duration":5548}},{"uid":"a3b7ee0c5365bd2b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/669/#testresult/a3b7ee0c5365bd2b","status":"passed","time":{"start":1763792650689,"stop":1763792657827,"duration":7138}},{"uid":"7f6fcf2b5fdb2938","reportUrl":"https://pagopa.github.io/rtp-platform-qa/668/#testresult/7f6fcf2b5fdb2938","status":"passed","time":{"start":1763706454060,"stop":1763706461003,"duration":6943}},{"uid":"6d11f18f3a6082da","reportUrl":"https://pagopa.github.io/rtp-platform-qa/667/#testresult/6d11f18f3a6082da","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763619959467,"stop":1763619966132,"duration":6665}},{"uid":"28c52b7ffc7fc235","reportUrl":"https://pagopa.github.io/rtp-platform-qa/666/#testresult/28c52b7ffc7fc235","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763533564007,"stop":1763533570366,"duration":6359}},{"uid":"93991b0f10dbea1c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/665/#testresult/93991b0f10dbea1c","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763447182144,"stop":1763447188388,"duration":6244}},{"uid":"d7b4da9b91011435","reportUrl":"https://pagopa.github.io/rtp-platform-qa/664/#testresult/d7b4da9b91011435","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763360840150,"stop":1763360846552,"duration":6402}},{"uid":"ffc064b9d2f0b56f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/663/#testresult/ffc064b9d2f0b56f","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763274294773,"stop":1763274301324,"duration":6551}},{"uid":"10acae7041db62fe","reportUrl":"https://pagopa.github.io/rtp-platform-qa/662/#testresult/10acae7041db62fe","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763187862459,"stop":1763187869214,"duration":6755}}]},"tags":["cbi","send","happy_path"]},"source":"43d1769a887550d5.json","parameterValues":[]}