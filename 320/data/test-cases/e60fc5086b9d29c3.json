{"uid":"e60fc5086b9d29c3","name":"Unauthorized callback due to wrong certificate serial","fullName":"tests.test_callback#test_fail_send_rtp_callback_wrong_certificate_serial_DS_08P_compliant","historyId":"61610daabc7eba1095a613969245a72a","time":{"start":1746688018291,"stop":1746688018802,"duration":511},"status":"failed","statusMessage":"AssertionError: Expecting error from callback, expected 403 got 400\nassert 400 == 403\n +  where 400 = <Response [400]>.status_code","statusTrace":"@allure.feature('RTP Callback')\n    @allure.story('Service provider sends a callback referred to an RTP')\n    @allure.title('Unauthorized callback due to wrong certificate serial')\n    @pytest.mark.callback\n    @pytest.mark.unhappy_path\n    def test_fail_send_rtp_callback_wrong_certificate_serial_DS_08P_compliant():\n        callback_data = generate_callback_data_DS_08P_compliant(BIC='MOCKSP01')\n    \n        cert, key = pfx_to_pem(secrets.debtor_service_provider_mock_PFX_base64,\n                               secrets.debtor_service_provider_mock_PFX_password_base64,\n                               config.cert_path,\n                               config.key_path)\n    \n        callback_response = srtp_callback(rtp_payload=callback_data,\n                                          cert_path=cert,\n                                          key_path=key)\n>       assert callback_response.status_code == 403, f'Expecting error from callback, expected 403 got {callback_response.status_code}'\nE       AssertionError: Expecting error from callback, expected 403 got 400\nE       assert 400 == 403\nE        +  where 400 = <Response [400]>.status_code\n\nfunctional-tests/tests/test_callback.py:85: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1746688007987,"stop":1746688008046,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"feature","value":"RTP Callback"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"fv-az813-883"},{"name":"thread","value":"2384-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":22,"unknown":0,"total":23},"items":[{"uid":"d428a91840e10ffc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/319//#testresult/d428a91840e10ffc","status":"passed","time":{"start":1746601636404,"stop":1746601636800,"duration":396}},{"uid":"86bb79fa3137473b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/318//#testresult/86bb79fa3137473b","status":"passed","time":{"start":1746515228458,"stop":1746515229106,"duration":648}},{"uid":"72ae75b6f277c91d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/317//#testresult/72ae75b6f277c91d","status":"passed","time":{"start":1746428862796,"stop":1746428863251,"duration":455}},{"uid":"932bf90d86bdb613","reportUrl":"https://pagopa.github.io/rtp-platform-qa/316//#testresult/932bf90d86bdb613","status":"passed","time":{"start":1746342415097,"stop":1746342415763,"duration":666}},{"uid":"b661c784463c2297","reportUrl":"https://pagopa.github.io/rtp-platform-qa/315//#testresult/b661c784463c2297","status":"passed","time":{"start":1746255991849,"stop":1746255992508,"duration":659}},{"uid":"25adeab363560a14","reportUrl":"https://pagopa.github.io/rtp-platform-qa/314//#testresult/25adeab363560a14","status":"passed","time":{"start":1746169623778,"stop":1746169624443,"duration":665}},{"uid":"33f080d417d1dd15","reportUrl":"https://pagopa.github.io/rtp-platform-qa/313//#testresult/33f080d417d1dd15","status":"passed","time":{"start":1746083250317,"stop":1746083250804,"duration":487}},{"uid":"88778208303b9b80","reportUrl":"https://pagopa.github.io/rtp-platform-qa/312//#testresult/88778208303b9b80","status":"passed","time":{"start":1745996831632,"stop":1745996832103,"duration":471}},{"uid":"44f8d297a27cd5fa","reportUrl":"https://pagopa.github.io/rtp-platform-qa/311//#testresult/44f8d297a27cd5fa","status":"passed","time":{"start":1745910436178,"stop":1745910436567,"duration":389}},{"uid":"b4dea72c94eee11a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/310//#testresult/b4dea72c94eee11a","status":"passed","time":{"start":1745824811351,"stop":1745824811743,"duration":392}},{"uid":"4f568531735a2126","reportUrl":"https://pagopa.github.io/rtp-platform-qa/309//#testresult/4f568531735a2126","status":"passed","time":{"start":1745737590817,"stop":1745737591217,"duration":400}},{"uid":"e299465cb977bbaa","reportUrl":"https://pagopa.github.io/rtp-platform-qa/308//#testresult/e299465cb977bbaa","status":"passed","time":{"start":1745651192232,"stop":1745651192624,"duration":392}},{"uid":"bfa8a6899e05ecab","reportUrl":"https://pagopa.github.io/rtp-platform-qa/307//#testresult/bfa8a6899e05ecab","status":"passed","time":{"start":1745564819213,"stop":1745564819685,"duration":472}},{"uid":"4a570e17bda6a671","reportUrl":"https://pagopa.github.io/rtp-platform-qa/306//#testresult/4a570e17bda6a671","status":"passed","time":{"start":1745491295239,"stop":1745491295811,"duration":572}},{"uid":"48e9cf8324e389b1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/305//#testresult/48e9cf8324e389b1","status":"passed","time":{"start":1745478439769,"stop":1745478440196,"duration":427}},{"uid":"fc232ecf445e1f8c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/304//#testresult/fc232ecf445e1f8c","status":"passed","time":{"start":1745392040734,"stop":1745392041391,"duration":657}},{"uid":"84bb51689ec6164a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/303//#testresult/84bb51689ec6164a","status":"passed","time":{"start":1745305622362,"stop":1745305622819,"duration":457}},{"uid":"82f22cdc3148051f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/302//#testresult/82f22cdc3148051f","status":"passed","time":{"start":1745219260936,"stop":1745219261514,"duration":578}},{"uid":"61476288f3a0662e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/301//#testresult/61476288f3a0662e","status":"passed","time":{"start":1745132791104,"stop":1745132791606,"duration":502}},{"uid":"fa9eb83f8e00f23b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/300//#testresult/fa9eb83f8e00f23b","status":"passed","time":{"start":1745046388589,"stop":1745046388997,"duration":408}}]},"tags":["callback","unhappy_path"]},"source":"e60fc5086b9d29c3.json","parameterValues":[]}