{"uid":"8a8f69ab9131758a","name":"Debtor fiscal code must be lower case during RTP send","fullName":"functional-tests.tests.test_send_rtp#test_cannot_send_rtp_api_lower_fiscal_code","historyId":"63e074ff548dee7e1b8c99d58f848b1e","time":{"start":1763447209841,"stop":1763447211656,"duration":1815},"status":"failed","statusMessage":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"@allure.feature('RTP Send')\n    @allure.story('Service provider sends an RTP')\n    @allure.title('Debtor fiscal code must be lower case during RTP send')\n    @pytest.mark.send\n    @pytest.mark.unhappy_path\n    def test_cannot_send_rtp_api_lower_fiscal_code():\n        rtp_data = generate_rtp_data()\n    \n        debtor_service_provider_access_token = get_valid_access_token(\n            client_id=secrets.debtor_service_provider.client_id,\n            client_secret=secrets.debtor_service_provider.client_secret,\n            access_token_function=get_access_token,\n        )\n    \n        creditor_service_provider_access_token = get_valid_access_token(\n            client_id=secrets.creditor_service_provider.client_id,\n            client_secret=secrets.creditor_service_provider.client_secret,\n            access_token_function=get_access_token,\n        )\n    \n        res = activate(\n            debtor_service_provider_access_token,\n            rtp_data['payer']['payerId'],\n            secrets.debtor_service_provider.service_provider_id,\n        )\n        assert res.status_code == 201, 'Error activating debtor'\n    \n        rtp_data['payer']['payerId'] = rtp_data['payer']['payerId'].lower()\n        response = send_rtp(\n            access_token=creditor_service_provider_access_token, rtp_payload=rtp_data\n        )\n>       assert response.status_code == 400\nE       assert 503 == 400\nE        +  where 503 = <Response [503]>.status_code\n\nfunctional-tests/tests/test_send_rtp.py:185: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1763447025078,"stop":1763447025135,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"feature","value":"RTP Send"},{"name":"story","value":"Service provider sends an RTP"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"send"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_send_rtp"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2519-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_send_rtp"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":42,"unknown":0,"total":44},"items":[{"uid":"9f4a1ccac7b6ce9a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/664/#testresult/9f4a1ccac7b6ce9a","status":"passed","time":{"start":1763360875810,"stop":1763360877773,"duration":1963}},{"uid":"ee9f81dfa4d503bf","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/663/#testresult/ee9f81dfa4d503bf","status":"passed","time":{"start":1763274331523,"stop":1763274333421,"duration":1898}},{"uid":"6bbcaee771a5d84a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/662/#testresult/6bbcaee771a5d84a","status":"passed","time":{"start":1763187902349,"stop":1763187904914,"duration":2565}},{"uid":"30b8250639a9199a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/661/#testresult/30b8250639a9199a","status":"passed","time":{"start":1763101657525,"stop":1763101660072,"duration":2547}},{"uid":"cc3f61d393bcd2fc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/660/#testresult/cc3f61d393bcd2fc","status":"passed","time":{"start":1763044417574,"stop":1763044419173,"duration":1599}},{"uid":"205d3ff720eb1b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/659/#testresult/205d3ff720eb1b","status":"passed","time":{"start":1763015187648,"stop":1763015190277,"duration":2629}},{"uid":"d5477290b6085efc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/658/#testresult/d5477290b6085efc","status":"passed","time":{"start":1762965065068,"stop":1762965066852,"duration":1784}},{"uid":"7c4319624ba0db63","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/657/#testresult/7c4319624ba0db63","status":"passed","time":{"start":1762956839915,"stop":1762956842544,"duration":2629}},{"uid":"23c776f674c67fe8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/656/#testresult/23c776f674c67fe8","status":"passed","time":{"start":1762941887834,"stop":1762941889598,"duration":1764}},{"uid":"a114cf2ccc7508de","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/603//#testresult/a114cf2ccc7508de","status":"passed","time":{"start":1762151167991,"stop":1762151169775,"duration":1784}},{"uid":"594603e786362da5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/602//#testresult/594603e786362da5","status":"passed","time":{"start":1762064613636,"stop":1762064615700,"duration":2064}},{"uid":"deb146d4cd740ea1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/601//#testresult/deb146d4cd740ea1","status":"passed","time":{"start":1761978132138,"stop":1761978133859,"duration":1721}},{"uid":"7dbc76fe60492f87","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/600//#testresult/7dbc76fe60492f87","status":"passed","time":{"start":1761891921370,"stop":1761891923418,"duration":2048}},{"uid":"ff91450a865f9253","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/599//#testresult/ff91450a865f9253","status":"passed","time":{"start":1761837125076,"stop":1761837127029,"duration":1953}},{"uid":"966c2e238b297b45","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/598//#testresult/966c2e238b297b45","status":"passed","time":{"start":1761818907408,"stop":1761818909345,"duration":1937}},{"uid":"5b00c39d9aca86f2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/597//#testresult/5b00c39d9aca86f2","status":"passed","time":{"start":1761805431760,"stop":1761805434277,"duration":2517}},{"uid":"a7e5a98d0fdbbbaf","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/596//#testresult/a7e5a98d0fdbbbaf","status":"passed","time":{"start":1761752130440,"stop":1761752132034,"duration":1594}},{"uid":"c3a2d4d204f3e6d6","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/595//#testresult/c3a2d4d204f3e6d6","status":"failed","statusDetails":"AssertionError: assert 404 == 400\n +  where 404 = <Response [404]>.status_code","time":{"start":1761719133331,"stop":1761719135810,"duration":2479}},{"uid":"b52662f61bca8eb9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/594//#testresult/b52662f61bca8eb9","status":"passed","time":{"start":1761632760587,"stop":1761632762313,"duration":1726}},{"uid":"b25c3713ffe9e3c2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/593//#testresult/b25c3713ffe9e3c2","status":"passed","time":{"start":1761546426256,"stop":1761546428834,"duration":2578}}]},"tags":["unhappy_path","send"]},"source":"8a8f69ab9131758a.json","parameterValues":[]}