{"uid":"f4895539b87c4034","name":"The service returns the mocked server error","fullName":"tests.test_send_rtp#test_receive_server_error_from_mock","historyId":"df79497008225556c6105188e0be1c16","time":{"start":1742290418210,"stop":1742290434189,"duration":15979},"status":"failed","statusMessage":"AssertionError: assert 504 == 500\n +  where 504 = <Response [504]>.status_code","statusTrace":"@allure.feature('RTP Send')\n    @allure.story('Service provider sends an RTP')\n    @allure.title('The service returns the mocked server error')\n    @pytest.mark.send\n    @pytest.mark.unhappy_path\n    def test_receive_server_error_from_mock():\n        mock_fiscal_code = 'RSSMRA85T10X000D'\n        expected_mocked_failure_status_code = 500\n    \n        rtp_data = generate_rtp_data()\n    \n        rtp_data['payer']['payerId'] = mock_fiscal_code\n    \n        debtor_service_provider_access_token = get_valid_access_token(client_id=secrets.debtor_service_provider.client_id,\n                                                                      client_secret=secrets.debtor_service_provider.client_secret,\n                                                                      access_token_function=get_access_token)\n    \n        creditor_service_provider_access_token = get_valid_access_token(\n            client_id=secrets.creditor_service_provider.client_id,\n            client_secret=secrets.creditor_service_provider.client_secret,\n            access_token_function=get_access_token)\n    \n        activate(debtor_service_provider_access_token, rtp_data['payer']['payerId'],\n                 secrets.debtor_service_provider.service_provider_id)\n    \n        response = send_rtp(access_token=creditor_service_provider_access_token, rtp_payload=rtp_data)\n>       assert response.status_code == expected_mocked_failure_status_code\nE       assert 504 == 500\nE        +  where 504 = <Response [504]>.status_code\n\nfunctional-tests/tests/test_send_rtp.py:97: AssertionError","flaky":true,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1742290385731,"stop":1742290385793,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends an RTP"},{"name":"feature","value":"RTP Send"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"send"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_send_rtp"},{"name":"host","value":"fv-az2032-822"},{"name":"thread","value":"2304-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_send_rtp"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":14,"broken":0,"skipped":0,"passed":59,"unknown":0,"total":73},"items":[{"uid":"3b1b30de490ed6b7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/246//#testresult/3b1b30de490ed6b7","status":"failed","statusDetails":"AssertionError: assert 404 == 500\n +  where 404 = <Response [404]>.status_code","time":{"start":1742281621823,"stop":1742281624391,"duration":2568}},{"uid":"8782c5dcbbafe394","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/245//#testresult/8782c5dcbbafe394","status":"passed","time":{"start":1742200616234,"stop":1742200618325,"duration":2091}},{"uid":"9d8ee05824eb9996","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/244//#testresult/9d8ee05824eb9996","status":"passed","time":{"start":1742195229444,"stop":1742195232032,"duration":2588}},{"uid":"ed1503b30dd10a63","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/243//#testresult/ed1503b30dd10a63","status":"failed","statusDetails":"AssertionError: assert 504 == 500\n +  where 504 = <Response [504]>.status_code","time":{"start":1742108802924,"stop":1742108819612,"duration":16688}},{"uid":"4bdc4a3dd1132a8f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/242//#testresult/4bdc4a3dd1132a8f","status":"failed","statusDetails":"AssertionError: assert 504 == 500\n +  where 504 = <Response [504]>.status_code","time":{"start":1742022394685,"stop":1742022411087,"duration":16402}},{"uid":"d3f286c22f5ce56a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/241//#testresult/d3f286c22f5ce56a","status":"failed","statusDetails":"AssertionError: assert 504 == 500\n +  where 504 = <Response [504]>.status_code","time":{"start":1741936024708,"stop":1741936040677,"duration":15969}},{"uid":"cc7ab41e536cbaf4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/240//#testresult/cc7ab41e536cbaf4","status":"failed","statusDetails":"AssertionError: assert 504 == 500\n +  where 504 = <Response [504]>.status_code","time":{"start":1741849675881,"stop":1741849739279,"duration":63398}},{"uid":"b3b1bd1309b469dc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/239//#testresult/b3b1bd1309b469dc","status":"failed","statusDetails":"AssertionError: assert 504 == 500\n +  where 504 = <Response [504]>.status_code","time":{"start":1741763285612,"stop":1741763348642,"duration":63030}},{"uid":"7cd5abb269583891","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/238//#testresult/7cd5abb269583891","status":"failed","statusDetails":"AssertionError: assert 504 == 500\n +  where 504 = <Response [504]>.status_code","time":{"start":1741705765949,"stop":1741705828921,"duration":62972}},{"uid":"18691d8dc35d456b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/237//#testresult/18691d8dc35d456b","status":"failed","statusDetails":"AssertionError: assert 504 == 500\n +  where 504 = <Response [504]>.status_code","time":{"start":1741676886187,"stop":1741676950286,"duration":64099}},{"uid":"cc7343a7082af26b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/236//#testresult/cc7343a7082af26b","status":"failed","statusDetails":"AssertionError: assert 504 == 500\n +  where 504 = <Response [504]>.status_code","time":{"start":1741631518568,"stop":1741631581542,"duration":62974}},{"uid":"52c5acdba7c671dd","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/235//#testresult/52c5acdba7c671dd","status":"failed","statusDetails":"AssertionError: assert 504 == 500\n +  where 504 = <Response [504]>.status_code","time":{"start":1741628175498,"stop":1741628239607,"duration":64109}},{"uid":"e771fb43a95d24a2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/234//#testresult/e771fb43a95d24a2","status":"failed","statusDetails":"AssertionError: assert 504 == 500\n +  where 504 = <Response [504]>.status_code","time":{"start":1741624794229,"stop":1741624857369,"duration":63140}},{"uid":"d87ccef027feec8b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/233//#testresult/d87ccef027feec8b","status":"failed","statusDetails":"AssertionError: assert 504 == 500\n +  where 504 = <Response [504]>.status_code","time":{"start":1741603762497,"stop":1741603825367,"duration":62870}},{"uid":"a1cc3712ee1806c9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/232//#testresult/a1cc3712ee1806c9","status":"passed","time":{"start":1741590426573,"stop":1741590429899,"duration":3326}},{"uid":"ae2823ea5c0ebe86","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/231//#testresult/ae2823ea5c0ebe86","status":"passed","time":{"start":1741503967709,"stop":1741503971523,"duration":3814}},{"uid":"44c3a6bd7f2c8ea1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/230//#testresult/44c3a6bd7f2c8ea1","status":"passed","time":{"start":1741417542942,"stop":1741417546045,"duration":3103}},{"uid":"18234799a9250aee","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/229//#testresult/18234799a9250aee","status":"passed","time":{"start":1741368340237,"stop":1741368343280,"duration":3043}},{"uid":"34ef5552f1748851","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/228//#testresult/34ef5552f1748851","status":"passed","time":{"start":1741365946612,"stop":1741365954600,"duration":7988}},{"uid":"a618700c06386fe0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/227//#testresult/a618700c06386fe0","status":"passed","time":{"start":1741364158457,"stop":1741364162296,"duration":3839}}]},"tags":["unhappy_path","send"]},"source":"f4895539b87c4034.json","parameterValues":[]}