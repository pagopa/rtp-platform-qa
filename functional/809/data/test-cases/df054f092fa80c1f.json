{"uid":"df054f092fa80c1f","name":"Happy path: a debt position is deleted in UAT environment","fullName":"functional-tests.tests.test_availability_GPD#test_delete_debt_position","historyId":"7bf3c037c67149e9114856801075b40c","time":{"start":1770274470244,"stop":1770274470637,"duration":393},"description":"\nVerify that a debt position can be deleted successfully.\n","descriptionHtml":"<p>Verify that a debt position can be deleted successfully.</p>\n","status":"failed","statusMessage":"AssertionError: Expected 201 but got 403\nassert 403 == 201\n +  where 403 = <Response [403]>.status_code","statusTrace":"gpd_test_data = namespace(debtor_fc='STRTRS03A12X000U', iupd='1172cef7c3174c7bb', iuv='97986243686573059', subscription_key='fceef49eb5874c1fa60e488724cddc58', organization_id='02438750586')\nenvironment = {'create_function': <function environment.<locals>._create_function at 0x7f1532c93060>, 'delete_function': <function e...0x7f1532d6c460>, 'get_function': <function environment.<locals>._get_function at 0x7f1532c935e0>, 'is_dev': False, ...}\n\n    @allure.epic('GPD Availability')\n    @allure.feature('Delete Debt Positions happy path')\n    @allure.story('Delete Debt Position')\n    @allure.tag('debt_positions', 'happy_path', 'availability')\n    @pytest.mark.debt_positions\n    @pytest.mark.happy_path\n    def test_delete_debt_position(gpd_test_data, environment):\n        \"\"\"\n        Verify that a debt position can be deleted successfully.\n        \"\"\"\n        allure.dynamic.title(f\"Happy path: a debt position is deleted in {environment['name']} environment\")\n    \n        payload = generate_debt_position_create_payload(\n            debtor_fc=gpd_test_data.debtor_fc,\n            iupd=gpd_test_data.iupd,\n            iuv=gpd_test_data.iuv\n        )\n    \n        create_response = environment['create_function'](\n            gpd_test_data.subscription_key,\n            gpd_test_data.organization_id,\n            payload,\n            to_publish=True\n        )\n>       assert create_response.status_code == 201, f'Expected 201 but got {create_response.status_code}'\nE       AssertionError: Expected 201 but got 403\nE       assert 403 == 201\nE        +  where 403 = <Response [403]>.status_code\n\nfunctional-tests/tests/test_availability_GPD.py:60: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1770274342494,"stop":1770274342562,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"environment","time":{"start":1770274469446,"stop":1770274469446,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_data","time":{"start":1770274469446,"stop":1770274469447,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"debtor_service_provider_token_a","time":{"start":1770274469447,"stop":1770274469824,"duration":377},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"gpd_test_data","time":{"start":1770274469824,"stop":1770274470244,"duration":420},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"feature","value":"Delete Debt Positions happy path"},{"name":"epic","value":"GPD Availability"},{"name":"story","value":"Delete Debt Position"},{"name":"tag","value":"availability"},{"name":"tag","value":"debt_positions"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"debt_positions"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_availability_GPD"},{"name":"host","value":"runnervmkj6or"},{"name":"thread","value":"2627-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_availability_GPD"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"environment","value":"{'name': 'UAT', 'is_dev': False}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":104,"unknown":0,"total":106},"items":[{"uid":"9dd2ad3f89142615","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/808/#testresult/9dd2ad3f89142615","status":"passed","time":{"start":1770222416040,"stop":1770222418405,"duration":2365}},{"uid":"73a246a43e45f2d1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/807/#testresult/73a246a43e45f2d1","status":"passed","time":{"start":1770219287934,"stop":1770219290622,"duration":2688}},{"uid":"fc589a0ccedfc064","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/806/#testresult/fc589a0ccedfc064","status":"passed","time":{"start":1770200957021,"stop":1770200959412,"duration":2391}},{"uid":"cae2ccd282d232d4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/805/#testresult/cae2ccd282d232d4","status":"passed","time":{"start":1770195596135,"stop":1770195598280,"duration":2145}},{"uid":"f966df511da398d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/804/#testresult/f966df511da398d","status":"passed","time":{"start":1770187505340,"stop":1770187507538,"duration":2198}},{"uid":"ae4cba4e768fe888","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/803/#testresult/ae4cba4e768fe888","status":"passed","time":{"start":1770101090924,"stop":1770101097486,"duration":6562}},{"uid":"9e9f7ccb0c8a2e7f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/802/#testresult/9e9f7ccb0c8a2e7f","status":"passed","time":{"start":1770032507927,"stop":1770032510773,"duration":2846}},{"uid":"9152e67d9c5d25c4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/801/#testresult/9152e67d9c5d25c4","status":"passed","time":{"start":1770015526036,"stop":1770015528244,"duration":2208}},{"uid":"26ce689751c07c08","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/800/#testresult/26ce689751c07c08","status":"passed","time":{"start":1769928259818,"stop":1769928262266,"duration":2448}},{"uid":"ed398dba4931b0fa","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/799/#testresult/ed398dba4931b0fa","status":"passed","time":{"start":1769841205751,"stop":1769841208123,"duration":2372}},{"uid":"911246c9cbfd02d4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/798/#testresult/911246c9cbfd02d4","status":"passed","time":{"start":1769755358968,"stop":1769755361298,"duration":2330}},{"uid":"d60914c07cf07472","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/797/#testresult/d60914c07cf07472","status":"passed","time":{"start":1769668938353,"stop":1769668941242,"duration":2889}},{"uid":"aaf31fdac973d0f8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/796/#testresult/aaf31fdac973d0f8","status":"passed","time":{"start":1769617173346,"stop":1769617176473,"duration":3127}},{"uid":"5dfa457ad0f99684","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/795/#testresult/5dfa457ad0f99684","status":"passed","time":{"start":1769581884764,"stop":1769581887844,"duration":3080}},{"uid":"9e17cd1ef09bc2b2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/794/#testresult/9e17cd1ef09bc2b2","status":"passed","time":{"start":1769520895768,"stop":1769520897985,"duration":2217}},{"uid":"6250617cb57f9734","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/793/#testresult/6250617cb57f9734","status":"passed","time":{"start":1769495372936,"stop":1769495375162,"duration":2226}},{"uid":"91eac2f66eb87bb1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/792/#testresult/91eac2f66eb87bb1","status":"passed","time":{"start":1769409117883,"stop":1769409120290,"duration":2407}},{"uid":"21a3b1ce453d87b2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/791/#testresult/21a3b1ce453d87b2","status":"passed","time":{"start":1769322392595,"stop":1769322395184,"duration":2589}},{"uid":"4a937bd19c4f7f72","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/790/#testresult/4a937bd19c4f7f72","status":"passed","time":{"start":1769236035731,"stop":1769236038705,"duration":2974}},{"uid":"6265ee97f46ec048","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/789/#testresult/6265ee97f46ec048","status":"passed","time":{"start":1769149796963,"stop":1769149801022,"duration":4059}}]},"tags":["debt_positions","availability","happy_path"]},"source":"df054f092fa80c1f.json","parameterValues":["{'name': 'UAT', 'is_dev': False}"]}