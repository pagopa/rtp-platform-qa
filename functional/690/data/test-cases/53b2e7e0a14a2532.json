{"uid":"53b2e7e0a14a2532","name":"Unauthorized callback due to wrong certificate serial","fullName":"functional-tests.tests.test_callback#test_fail_send_rtp_callback_wrong_certificate_serial_DS_08N_compliant","historyId":"7ea70ef13b59ebb53e14eb9e43e830cc","time":{"start":1764743206327,"stop":1764743206898,"duration":571},"status":"failed","statusMessage":"AssertionError: Expecting error from callback, expected 403 got 503\nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","statusTrace":"@allure.feature('RTP Callback')\n    @allure.story('Service provider sends a callback referred to an RTP')\n    @allure.title('Unauthorized callback due to wrong certificate serial')\n    @pytest.mark.callback\n    @pytest.mark.unhappy_path\n    def test_fail_send_rtp_callback_wrong_certificate_serial_DS_08N_compliant():\n        callback_data = generate_callback_data_DS_08N_compliant(BIC='MOCKSP01')\n    \n        cert, key = pfx_to_pem(\n            secrets.debtor_service_provider_mock_PFX_base64,\n            secrets.debtor_service_provider_mock_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n    \n        callback_response = srtp_callback(\n            rtp_payload=callback_data, cert_path=cert, key_path=key\n        )\n>       assert (\n            callback_response.status_code == 403\n        ), f\"Expecting error from callback, expected 403 got {callback_response.status_code}\"\nE       AssertionError: Expecting error from callback, expected 403 got 503\nE       assert 503 == 403\nE        +  where 503 = <Response [503]>.status_code\n\nfunctional-tests/tests/test_callback.py:264: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1764743133586,"stop":1764743133650,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"feature","value":"RTP Callback"},{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2581-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":7,"broken":0,"skipped":0,"passed":62,"unknown":0,"total":69},"items":[{"uid":"dcc04f8ce6148b7b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/689/#testresult/dcc04f8ce6148b7b","status":"failed","statusDetails":"AssertionError: Expecting error from callback, expected 403 got 503\nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","time":{"start":1764671044590,"stop":1764671045098,"duration":508}},{"uid":"80b5a0253071a104","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/688/#testresult/80b5a0253071a104","status":"failed","statusDetails":"AssertionError: Expecting error from callback, expected 403 got 503\nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","time":{"start":1764670274852,"stop":1764670275420,"duration":568}},{"uid":"362a75d79cb5aec1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/687/#testresult/362a75d79cb5aec1","status":"failed","statusDetails":"AssertionError: Expecting error from callback, expected 403 got 503\nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","time":{"start":1764668937148,"stop":1764668937586,"duration":438}},{"uid":"7d31fbf56b0336ae","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/686/#testresult/7d31fbf56b0336ae","status":"failed","statusDetails":"AssertionError: Expecting error from callback, expected 403 got 503\nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","time":{"start":1764656877543,"stop":1764656878025,"duration":482}},{"uid":"71a536da0d09d4de","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/685/#testresult/71a536da0d09d4de","status":"failed","statusDetails":"AssertionError: Expecting error from callback, expected 403 got 503\nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","time":{"start":1764598794043,"stop":1764598794757,"duration":714}},{"uid":"e1911d0830a3915a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/684/#testresult/e1911d0830a3915a","status":"passed","time":{"start":1764590012412,"stop":1764590013154,"duration":742}},{"uid":"9d808ec6c2e0957e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/683/#testresult/9d808ec6c2e0957e","status":"passed","time":{"start":1764570547737,"stop":1764570548188,"duration":451}},{"uid":"f2ea96952c0afe69","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/682/#testresult/f2ea96952c0afe69","status":"passed","time":{"start":1764483941726,"stop":1764483942477,"duration":751}},{"uid":"21a83b26fb212630","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/681/#testresult/21a83b26fb212630","status":"passed","time":{"start":1764397452008,"stop":1764397452552,"duration":544}},{"uid":"8cacf42d072d3ae6","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/680/#testresult/8cacf42d072d3ae6","status":"passed","time":{"start":1764311234356,"stop":1764311234862,"duration":506}},{"uid":"e2a06e9357b91f9a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/679/#testresult/e2a06e9357b91f9a","status":"passed","time":{"start":1764224838065,"stop":1764224839122,"duration":1057}},{"uid":"b59fab8f3398f7fc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/678/#testresult/b59fab8f3398f7fc","status":"passed","time":{"start":1764165367858,"stop":1764165368557,"duration":699}},{"uid":"66abc4ac222092e1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/677/#testresult/66abc4ac222092e1","status":"passed","time":{"start":1764163689690,"stop":1764163690137,"duration":447}},{"uid":"c5de38d02b824328","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/676/#testresult/c5de38d02b824328","status":"passed","time":{"start":1764138415748,"stop":1764138416346,"duration":598}},{"uid":"fd1763f51aea3b4e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/675/#testresult/fd1763f51aea3b4e","status":"passed","time":{"start":1764052029348,"stop":1764052029870,"duration":522}},{"uid":"3afba749704937c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/674/#testresult/3afba749704937c","status":"passed","time":{"start":1763985413259,"stop":1763985413809,"duration":550}},{"uid":"9ae0cd2ee6ea2ca7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/673/#testresult/9ae0cd2ee6ea2ca7","status":"passed","time":{"start":1763982809183,"stop":1763982809630,"duration":447}},{"uid":"cb2807753c17de14","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/672/#testresult/cb2807753c17de14","status":"passed","time":{"start":1763978613217,"stop":1763978613937,"duration":720}},{"uid":"9799447e0d51d1f5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/671/#testresult/9799447e0d51d1f5","status":"passed","time":{"start":1763965644963,"stop":1763965645497,"duration":534}},{"uid":"66c521b7941da4dc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/670/#testresult/66c521b7941da4dc","status":"passed","time":{"start":1763879080004,"stop":1763879080485,"duration":481}}]},"tags":["callback","unhappy_path"]},"source":"53b2e7e0a14a2532.json","parameterValues":[]}