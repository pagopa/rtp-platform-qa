{"uid":"38d2655659b127","name":"Debtor fiscal code must be lower case during RTP send","fullName":"functional-tests.tests.test_send_rtp#test_cannot_send_rtp_api_lower_fiscal_code","historyId":"63e074ff548dee7e1b8c99d58f848b1e","time":{"start":1764743247246,"stop":1764743249161,"duration":1915},"status":"failed","statusMessage":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"@allure.feature('RTP Send')\n    @allure.story('Service provider sends an RTP')\n    @allure.title('Debtor fiscal code must be lower case during RTP send')\n    @pytest.mark.send\n    @pytest.mark.unhappy_path\n    def test_cannot_send_rtp_api_lower_fiscal_code():\n        rtp_data = generate_rtp_data()\n    \n        debtor_service_provider_access_token = get_valid_access_token(\n            client_id=secrets.debtor_service_provider.client_id,\n            client_secret=secrets.debtor_service_provider.client_secret,\n            access_token_function=get_access_token,\n        )\n    \n        creditor_service_provider_access_token = get_valid_access_token(\n            client_id=secrets.creditor_service_provider.client_id,\n            client_secret=secrets.creditor_service_provider.client_secret,\n            access_token_function=get_access_token,\n        )\n    \n        res = activate(\n            debtor_service_provider_access_token,\n            rtp_data['payer']['payerId'],\n            secrets.debtor_service_provider.service_provider_id,\n        )\n        assert res.status_code == 201, 'Error activating debtor'\n    \n        rtp_data['payer']['payerId'] = rtp_data['payer']['payerId'].lower()\n        response = send_rtp(\n            access_token=creditor_service_provider_access_token, rtp_payload=rtp_data\n        )\n>       assert response.status_code == 400\nE       assert 503 == 400\nE        +  where 503 = <Response [503]>.status_code\n\nfunctional-tests/tests/test_send_rtp.py:185: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1764743133586,"stop":1764743133650,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends an RTP"},{"name":"feature","value":"RTP Send"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"send"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_send_rtp"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2581-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_send_rtp"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":8,"broken":0,"skipped":0,"passed":61,"unknown":0,"total":69},"items":[{"uid":"e7d1d473648bc2c8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/689/#testresult/e7d1d473648bc2c8","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1764671077888,"stop":1764671079675,"duration":1787}},{"uid":"97874ee38f6357e6","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/688/#testresult/97874ee38f6357e6","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1764670311931,"stop":1764670313898,"duration":1967}},{"uid":"2915782f2ca3cf77","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/687/#testresult/2915782f2ca3cf77","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1764668969987,"stop":1764668971666,"duration":1679}},{"uid":"7bdb14b1437a93f8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/686/#testresult/7bdb14b1437a93f8","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1764656919783,"stop":1764656921539,"duration":1756}},{"uid":"79091ed83410cd34","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/685/#testresult/79091ed83410cd34","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1764598841215,"stop":1764598843757,"duration":2542}},{"uid":"984eed4b63c2134a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/684/#testresult/984eed4b63c2134a","status":"passed","time":{"start":1764590065004,"stop":1764590067552,"duration":2548}},{"uid":"da9d793163673759","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/683/#testresult/da9d793163673759","status":"passed","time":{"start":1764570590341,"stop":1764570591892,"duration":1551}},{"uid":"b012012ddf5259ca","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/682/#testresult/b012012ddf5259ca","status":"passed","time":{"start":1764483990652,"stop":1764483993142,"duration":2490}},{"uid":"7bd05718a0d41baf","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/681/#testresult/7bd05718a0d41baf","status":"passed","time":{"start":1764397497893,"stop":1764397499626,"duration":1733}},{"uid":"3523e74c988e8a63","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/680/#testresult/3523e74c988e8a63","status":"passed","time":{"start":1764311276044,"stop":1764311277833,"duration":1789}},{"uid":"5d6d7571ecf9f32c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/679/#testresult/5d6d7571ecf9f32c","status":"passed","time":{"start":1764224886448,"stop":1764224888793,"duration":2345}},{"uid":"63d66f6efd2b8565","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/678/#testresult/63d66f6efd2b8565","status":"passed","time":{"start":1764165421110,"stop":1764165423689,"duration":2579}},{"uid":"ae0a9a1772f8c8d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/677/#testresult/ae0a9a1772f8c8d","status":"passed","time":{"start":1764163729061,"stop":1764163730657,"duration":1596}},{"uid":"54b4c3a7cd2f2c8e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/676/#testresult/54b4c3a7cd2f2c8e","status":"passed","time":{"start":1764138468184,"stop":1764138470468,"duration":2284}},{"uid":"e28744a5431ed712","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/675/#testresult/e28744a5431ed712","status":"passed","time":{"start":1764052072303,"stop":1764052074276,"duration":1973}},{"uid":"5f53188802cd014e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/674/#testresult/5f53188802cd014e","status":"passed","time":{"start":1763985454935,"stop":1763985457616,"duration":2681}},{"uid":"2433b2c127d5313c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/673/#testresult/2433b2c127d5313c","status":"passed","time":{"start":1763982845596,"stop":1763982847134,"duration":1538}},{"uid":"9ae8c4378861e489","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/672/#testresult/9ae8c4378861e489","status":"passed","time":{"start":1763978666928,"stop":1763978669555,"duration":2627}},{"uid":"bd19bd92de91ca9a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/671/#testresult/bd19bd92de91ca9a","status":"passed","time":{"start":1763965692270,"stop":1763965694170,"duration":1900}},{"uid":"e03ff3c89e502e8a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/670/#testresult/e03ff3c89e502e8a","status":"passed","time":{"start":1763879121134,"stop":1763879123049,"duration":1915}}]},"tags":["unhappy_path","send"]},"source":"38d2655659b127.json","parameterValues":[]}