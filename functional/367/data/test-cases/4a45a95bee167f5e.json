{"uid":"4a45a95bee167f5e","name":"RTP is successfully cancelled","fullName":"tests.test_cancel_rtp#test_cancel_rtp_success","historyId":"2c581c95dccd59dd00f75f19c36e4409","time":{"start":1749482223481,"stop":1749482224284,"duration":803},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token","statusTrace":"@allure.feature('RTP Cancel')\n    @allure.story('Service provider cancels RTP')\n    @allure.title('RTP is successfully cancelled')\n    @pytest.mark.cancel\n    @pytest.mark.happy_path\n    def test_cancel_rtp_success():\n        rtp_data = generate_rtp_data()\n    \n>       debtor_service_provider_access_token = get_valid_access_token(\n            client_id=secrets.debtor_service_provider.client_id,\n            client_secret=secrets.debtor_service_provider.client_secret,\n            access_token_function=get_access_token)\n\nfunctional-tests/tests/test_cancel_rtp.py:22: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi/auth.py:8: in get_valid_access_token\n    token_response.raise_for_status()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Response [400]>\n\n    def raise_for_status(self):\n        \"\"\"Raises :class:`HTTPError`, if one occurred.\"\"\"\n    \n        http_error_msg = \"\"\n        if isinstance(self.reason, bytes):\n            # We attempt to decode utf-8 first because some servers\n            # choose to localize their reason strings. If the string\n            # isn't utf-8, we fall back to iso-8859-1 for all other\n            # encodings. (See PR #3538)\n            try:\n                reason = self.reason.decode(\"utf-8\")\n            except UnicodeDecodeError:\n                reason = self.reason.decode(\"iso-8859-1\")\n        else:\n            reason = self.reason\n    \n        if 400 <= self.status_code < 500:\n            http_error_msg = (\n                f\"{self.status_code} Client Error: {reason} for url: {self.url}\"\n            )\n    \n        elif 500 <= self.status_code < 600:\n            http_error_msg = (\n                f\"{self.status_code} Server Error: {reason} for url: {self.url}\"\n            )\n    \n        if http_error_msg:\n>           raise HTTPError(http_error_msg, response=self)\nE           requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n\n/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/requests/models.py:1024: HTTPError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1749482217347,"stop":1749482217403,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider cancels RTP"},{"name":"feature","value":"RTP Cancel"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"cancel"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_cancel_rtp"},{"name":"host","value":"pkrvmf6wy0o8zjz"},{"name":"thread","value":"2494-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cancel_rtp"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":87,"unknown":0,"total":89},"items":[{"uid":"c4a0e0e40f8de5b0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/363//#testresult/c4a0e0e40f8de5b0","status":"passed","time":{"start":1749452882629,"stop":1749452885283,"duration":2654}},{"uid":"4bff8912406b0288","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/362//#testresult/4bff8912406b0288","status":"passed","time":{"start":1749366427277,"stop":1749366431162,"duration":3885}},{"uid":"ba9e97a20c7fa3a9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/361//#testresult/ba9e97a20c7fa3a9","status":"passed","time":{"start":1749280011919,"stop":1749280014561,"duration":2642}},{"uid":"b09ff99fb19af0fb","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/360//#testresult/b09ff99fb19af0fb","status":"passed","time":{"start":1749193620703,"stop":1749193622912,"duration":2209}},{"uid":"680210657e8741d3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/359//#testresult/680210657e8741d3","status":"passed","time":{"start":1749107246538,"stop":1749107250212,"duration":3674}},{"uid":"a456d8168b79952","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/358//#testresult/a456d8168b79952","status":"passed","time":{"start":1749020830476,"stop":1749020833152,"duration":2676}},{"uid":"4b19296aa0ec4cb5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/357//#testresult/4b19296aa0ec4cb5","status":"passed","time":{"start":1748956565900,"stop":1748956568297,"duration":2397}},{"uid":"6258e968ee41dce2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/356//#testresult/6258e968ee41dce2","status":"passed","time":{"start":1748953131876,"stop":1748953133907,"duration":2031}},{"uid":"d99eb3692b1fe15c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/355//#testresult/d99eb3692b1fe15c","status":"passed","time":{"start":1748934474778,"stop":1748934477778,"duration":3000}},{"uid":"756c2003fb159aa8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/354//#testresult/756c2003fb159aa8","status":"passed","time":{"start":1748848072139,"stop":1748848074627,"duration":2488}},{"uid":"2603a6203550de0a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/353//#testresult/2603a6203550de0a","status":"passed","time":{"start":1748761627304,"stop":1748761631024,"duration":3720}},{"uid":"873fdc2ea4dd702f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/352//#testresult/873fdc2ea4dd702f","status":"passed","time":{"start":1748675218371,"stop":1748675220870,"duration":2499}},{"uid":"8e76c197571b4fbe","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/351//#testresult/8e76c197571b4fbe","status":"passed","time":{"start":1748588831822,"stop":1748588835691,"duration":3869}},{"uid":"e5ed0537cc1c6d62","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/350//#testresult/e5ed0537cc1c6d62","status":"passed","time":{"start":1748534030918,"stop":1748534033389,"duration":2471}},{"uid":"9e7c84065b151162","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/349//#testresult/9e7c84065b151162","status":"passed","time":{"start":1748502456364,"stop":1748502460291,"duration":3927}},{"uid":"a3ae045b5b0abbb3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/348//#testresult/a3ae045b5b0abbb3","status":"passed","time":{"start":1748449651133,"stop":1748449654263,"duration":3130}},{"uid":"e0befc284dff8c51","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/347//#testresult/e0befc284dff8c51","status":"passed","time":{"start":1748442444680,"stop":1748442446855,"duration":2175}},{"uid":"945e537aee833dc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/346//#testresult/945e537aee833dc","status":"passed","time":{"start":1748441498750,"stop":1748441500929,"duration":2179}},{"uid":"2014b6eeafceea06","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/345//#testresult/2014b6eeafceea06","status":"passed","time":{"start":1748436776704,"stop":1748436779320,"duration":2616}},{"uid":"45a42aeca9da6c54","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/344//#testresult/45a42aeca9da6c54","status":"broken","statusDetails":"AttributeError: 'dict' object has no attribute 'debtor_service_provider'","time":{"start":1748417982661,"stop":1748417982662,"duration":1}}]},"tags":["cancel","happy_path"]},"source":"4a45a95bee167f5e.json","parameterValues":[]}