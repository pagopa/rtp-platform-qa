{"uid":"6da70caf8f85b105","name":"An RTP is sent through POSTE API","fullName":"functional-tests.tests.test_debtor_service_provider_availability#test_send_rtp_to_poste","historyId":"651f653335fef2530cdd88dab8fd0ebb","time":{"start":1762928664447,"stop":1762928664449,"duration":2},"status":"broken","statusMessage":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","statusTrace":"@allure.feature('RTP Send')\n    @allure.story('Service provider sends an RTP to POSTE directly')\n    @allure.title('An RTP is sent through POSTE API')\n    @pytest.mark.send\n    @pytest.mark.happy_path\n    @pytest.mark.poste\n    def test_send_rtp_to_poste():\n        amount = random.randint(100, 10000)\n        rtp_data = generate_rtp_data(amount=amount)\n        poste_payload = generate_epc_rtp_data(rtp_data, bic='PPAYITR1XXX')\n    \n>       response = send_srtp_to_poste(poste_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nfunctional-tests/tests/test_debtor_service_provider_availability.py:123: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi/debtor_service_provider.py:29: in send_srtp_to_poste\n    return requests.post(\n/opt/hostedtoolcache/Python/3.14.0/x64/lib/python3.14/site-packages/requests/api.py:115: in post\n    return request(\"post\", url, data=data, json=json, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.14.0/x64/lib/python3.14/site-packages/requests/api.py:59: in request\n    return session.request(method=method, url=url, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.14.0/x64/lib/python3.14/site-packages/requests/sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.14.0/x64/lib/python3.14/site-packages/requests/sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.14.0/x64/lib/python3.14/site-packages/requests/adapters.py:616: in send\n    self.cert_verify(conn, request.url, verify, cert)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <requests.adapters.HTTPAdapter object at 0x7f3fdf5a6b50>\nconn = <urllib3.connectionpool.HTTPSConnectionPool object at 0x7f3fdf51c8a0>\nurl = 'https://rtp.svil.poste.it:446/iso20022/api/v1/sepa-request-to-pay-requests'\nverify = False\ncert = ('/home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem', '/home/runner/work/rtp-platform-qa/rtp-platform-qa/config/key.pem')\n\n    def cert_verify(self, conn, url, verify, cert):\n        \"\"\"Verify a SSL certificate. This method should not be called from user\n        code, and is only exposed for use when subclassing the\n        :class:`HTTPAdapter <requests.adapters.HTTPAdapter>`.\n    \n        :param conn: The urllib3 connection object associated with the cert.\n        :param url: The requested URL.\n        :param verify: Either a boolean, in which case it controls whether we verify\n            the server's TLS certificate, or a string, in which case it must be a path\n            to a CA bundle to use\n        :param cert: The SSL certificate to verify.\n        \"\"\"\n        if url.lower().startswith(\"https\") and verify:\n            cert_loc = None\n    \n            # Allow self-specified cert location.\n            if verify is not True:\n                cert_loc = verify\n    \n            if not cert_loc:\n                cert_loc = extract_zipped_paths(DEFAULT_CA_BUNDLE_PATH)\n    \n            if not cert_loc or not os.path.exists(cert_loc):\n                raise OSError(\n                    f\"Could not find a suitable TLS CA certificate bundle, \"\n                    f\"invalid path: {cert_loc}\"\n                )\n    \n            conn.cert_reqs = \"CERT_REQUIRED\"\n    \n            if not os.path.isdir(cert_loc):\n                conn.ca_certs = cert_loc\n            else:\n                conn.ca_cert_dir = cert_loc\n        else:\n            conn.cert_reqs = \"CERT_NONE\"\n            conn.ca_certs = None\n            conn.ca_cert_dir = None\n    \n        if cert:\n            if not isinstance(cert, basestring):\n                conn.cert_file = cert[0]\n                conn.key_file = cert[1]\n            else:\n                conn.cert_file = cert\n                conn.key_file = None\n            if conn.cert_file and not os.path.exists(conn.cert_file):\n>               raise OSError(\n                    f\"Could not find the TLS certificate file, \"\n                    f\"invalid path: {conn.cert_file}\"\n                )\nE               OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem\n\n/opt/hostedtoolcache/Python/3.14.0/x64/lib/python3.14/site-packages/requests/adapters.py:327: OSError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1762928607268,"stop":1762928607338,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"feature","value":"RTP Send"},{"name":"story","value":"Service provider sends an RTP to POSTE directly"},{"name":"tag","value":"poste"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"send"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_debtor_service_provider_availability"},{"name":"host","value":"runnervmw9dnm"},{"name":"thread","value":"2195-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_debtor_service_provider_availability"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":26,"skipped":0,"passed":0,"unknown":0,"total":26},"items":[{"uid":"b0e6d0a32748be0","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762878096401,"stop":1762878096403,"duration":2}},{"uid":"a382dae469db5d54","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762852133996,"stop":1762852133997,"duration":1}},{"uid":"7d00486f30679923","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762842221557,"stop":1762842221559,"duration":2}},{"uid":"2ef3f4a1cc5e01b7","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762755988675,"stop":1762755988676,"duration":1}},{"uid":"5090bbf658710a4b","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762669303886,"stop":1762669303887,"duration":1}},{"uid":"f56cd4c65be3259a","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762582882666,"stop":1762582882668,"duration":2}},{"uid":"3799606f147da8b3","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762504364811,"stop":1762504364812,"duration":1}},{"uid":"f44cd975c0ab7987","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762496635713,"stop":1762496635714,"duration":1}},{"uid":"7fa36317b8b1dfe4","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762410248790,"stop":1762410248791,"duration":1}},{"uid":"f74c90d27a849749","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762351841920,"stop":1762351841921,"duration":1}},{"uid":"e9a5c789d7861c9e","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762350365020,"stop":1762350365022,"duration":2}},{"uid":"f33396a758ab734f","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762349464822,"stop":1762349464823,"duration":1}},{"uid":"ac3cbc2734eb2160","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762343671655,"stop":1762343671657,"duration":2}},{"uid":"e92b29ffce09a992","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762339249898,"stop":1762339249899,"duration":1}},{"uid":"85c2e73fc6e43340","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762338678728,"stop":1762338678729,"duration":1}},{"uid":"7bcfab415be135e0","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762337537931,"stop":1762337537932,"duration":1}},{"uid":"903b0fcae194151d","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762335785912,"stop":1762335785913,"duration":1}},{"uid":"b9481152f550dd60","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762335193105,"stop":1762335193107,"duration":2}},{"uid":"4f557b07cf64b12e","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762334035192,"stop":1762334035193,"duration":1}},{"uid":"64cfb97e9d6743ca","status":"broken","statusDetails":"OSError: Could not find the TLS certificate file, invalid path: /home/runner/work/rtp-platform-qa/rtp-platform-qa/config/cert.pem","time":{"start":1762333282170,"stop":1762333282172,"duration":2}}]},"tags":["poste","send","happy_path"]},"source":"6da70caf8f85b105.json","parameterValues":[]}