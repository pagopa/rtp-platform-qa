{"uid":"8633c1758999258f","name":"Unauthorized callback due to wrong certificate serial","fullName":"tests.test_callback#test_fail_send_rtp_callback_wrong_certificate_serial_DS_04b_compliant","historyId":"2cc2abb0fda2edeacf4f957d8bb07347","time":{"start":1757057091485,"stop":1757057092143,"duration":658},"status":"failed","statusMessage":"AssertionError: Expecting error from callback, expected 403 got 502\nassert 502 == 403\n +  where 502 = <Response [502]>.status_code","statusTrace":"@allure.feature('RTP Callback')\n    @allure.story('Service provider sends a callback referred to an RTP')\n    @allure.title('Unauthorized callback due to wrong certificate serial')\n    @pytest.mark.callback\n    @pytest.mark.unhappy_path\n    def test_fail_send_rtp_callback_wrong_certificate_serial_DS_04b_compliant():\n        callback_data = generate_callback_data_DS_04b_compliant(BIC='MOCKSP01')\n    \n        cert, key = pfx_to_pem(\n            secrets.debtor_service_provider_mock_PFX_base64,\n            secrets.debtor_service_provider_mock_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n    \n        callback_response = srtp_callback(\n            rtp_payload=callback_data, cert_path=cert, key_path=key\n        )\n>       assert (\n            callback_response.status_code == 403\n        ), f\"Expecting error from callback, expected 403 got {callback_response.status_code}\"\nE       AssertionError: Expecting error from callback, expected 403 got 502\nE       assert 502 == 403\nE        +  where 502 = <Response [502]>.status_code\n\nfunctional-tests/tests/test_callback.py:225: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1757056838070,"stop":1757056838126,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"feature","value":"RTP Callback"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"2510-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":10,"skipped":0,"passed":202,"unknown":0,"total":214},"items":[{"uid":"e57462d672878694","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/519//#testresult/e57462d672878694","status":"passed","time":{"start":1756969626930,"stop":1756969627510,"duration":580}},{"uid":"8a8b20b6c7469aa2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/518//#testresult/8a8b20b6c7469aa2","status":"passed","time":{"start":1756910839629,"stop":1756910840407,"duration":778}},{"uid":"7d3383d8d69fe0b5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/517//#testresult/7d3383d8d69fe0b5","status":"passed","time":{"start":1756883248287,"stop":1756883248887,"duration":600}},{"uid":"a81efad5238a1753","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/516//#testresult/a81efad5238a1753","status":"passed","time":{"start":1756797975281,"stop":1756797975789,"duration":508}},{"uid":"849e98635ac79e59","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/515//#testresult/849e98635ac79e59","status":"passed","time":{"start":1756796843731,"stop":1756796844246,"duration":515}},{"uid":"987b31324fc04528","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/514//#testresult/987b31324fc04528","status":"passed","time":{"start":1756719567864,"stop":1756719568643,"duration":779}},{"uid":"3db85182cb4b1f63","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/513//#testresult/3db85182cb4b1f63","status":"passed","time":{"start":1756710515900,"stop":1756710516597,"duration":697}},{"uid":"d8ff34235a84b668","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/512//#testresult/d8ff34235a84b668","status":"passed","time":{"start":1756623996616,"stop":1756623997076,"duration":460}},{"uid":"4fd3f9384df23030","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/511//#testresult/4fd3f9384df23030","status":"passed","time":{"start":1756537594300,"stop":1756537594784,"duration":484}},{"uid":"b93d6e9b48c59a52","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/510//#testresult/b93d6e9b48c59a52","status":"passed","time":{"start":1756451236955,"stop":1756451237503,"duration":548}},{"uid":"2b1c96d80e45698a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/509//#testresult/2b1c96d80e45698a","status":"passed","time":{"start":1756385889403,"stop":1756385890128,"duration":725}},{"uid":"b28da1b52d9e238e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/508//#testresult/b28da1b52d9e238e","status":"passed","time":{"start":1756364857649,"stop":1756364858414,"duration":765}},{"uid":"7f780eae85c39501","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/507//#testresult/7f780eae85c39501","status":"passed","time":{"start":1756278446576,"stop":1756278447400,"duration":824}},{"uid":"b36b7a1cbd739d43","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/506//#testresult/b36b7a1cbd739d43","status":"passed","time":{"start":1756192058280,"stop":1756192058753,"duration":473}},{"uid":"19bbfb26088de3ad","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/505//#testresult/19bbfb26088de3ad","status":"passed","time":{"start":1756105689946,"stop":1756105690420,"duration":474}},{"uid":"7c1c384cc6240b7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/504//#testresult/7c1c384cc6240b7","status":"passed","time":{"start":1756019194182,"stop":1756019194661,"duration":479}},{"uid":"65e62b16aca8ca38","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/503//#testresult/65e62b16aca8ca38","status":"passed","time":{"start":1755932781555,"stop":1755932782096,"duration":541}},{"uid":"9fa2c204383b3e8f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/502//#testresult/9fa2c204383b3e8f","status":"passed","time":{"start":1755847644096,"stop":1755847644740,"duration":644}},{"uid":"818bb41a7d30465a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/501//#testresult/818bb41a7d30465a","status":"passed","time":{"start":1755846443370,"stop":1755846443948,"duration":578}},{"uid":"4d848bf302bd24d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/500//#testresult/4d848bf302bd24d","status":"passed","time":{"start":1755843896271,"stop":1755843896804,"duration":533}}]},"tags":["callback","unhappy_path"]},"source":"8633c1758999258f.json","parameterValues":[]}