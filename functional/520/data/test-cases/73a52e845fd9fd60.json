{"uid":"73a52e845fd9fd60","name":"Unauthorized callback due to wrong certificate serial","fullName":"tests.test_callback#test_fail_send_rtp_callback_wrong_certificate_serial_DS_08N_compliant","historyId":"dfa46c341096617c052b3d5ac3a2d656","time":{"start":1757057092149,"stop":1757057092978,"duration":829},"status":"failed","statusMessage":"AssertionError: Expecting error from callback, expected 403 got 502\nassert 502 == 403\n +  where 502 = <Response [502]>.status_code","statusTrace":"@allure.feature('RTP Callback')\n    @allure.story('Service provider sends a callback referred to an RTP')\n    @allure.title('Unauthorized callback due to wrong certificate serial')\n    @pytest.mark.callback\n    @pytest.mark.unhappy_path\n    def test_fail_send_rtp_callback_wrong_certificate_serial_DS_08N_compliant():\n        callback_data = generate_callback_data_DS_08N_compliant(BIC='MOCKSP01')\n    \n        cert, key = pfx_to_pem(\n            secrets.debtor_service_provider_mock_PFX_base64,\n            secrets.debtor_service_provider_mock_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n    \n        callback_response = srtp_callback(\n            rtp_payload=callback_data, cert_path=cert, key_path=key\n        )\n>       assert (\n            callback_response.status_code == 403\n        ), f\"Expecting error from callback, expected 403 got {callback_response.status_code}\"\nE       AssertionError: Expecting error from callback, expected 403 got 502\nE       assert 502 == 403\nE        +  where 502 = <Response [502]>.status_code\n\nfunctional-tests/tests/test_callback.py:248: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1757056838070,"stop":1757056838126,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"feature","value":"RTP Callback"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"2510-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":41,"unknown":0,"total":42},"items":[{"uid":"880b52fa45600611","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/519//#testresult/880b52fa45600611","status":"passed","time":{"start":1756969627511,"stop":1756969628003,"duration":492}},{"uid":"9ad9685cdfdbd2c1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/518//#testresult/9ad9685cdfdbd2c1","status":"passed","time":{"start":1756910840408,"stop":1756910841170,"duration":762}},{"uid":"6a4d71949761509d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/517//#testresult/6a4d71949761509d","status":"passed","time":{"start":1756883248888,"stop":1756883249439,"duration":551}},{"uid":"e116501089c7f576","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/516//#testresult/e116501089c7f576","status":"passed","time":{"start":1756797975790,"stop":1756797976253,"duration":463}},{"uid":"1b8916c90160e533","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/515//#testresult/1b8916c90160e533","status":"passed","time":{"start":1756796844248,"stop":1756796844716,"duration":468}},{"uid":"952b44d518235e43","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/514//#testresult/952b44d518235e43","status":"passed","time":{"start":1756719568644,"stop":1756719569363,"duration":719}},{"uid":"ef37b5d9f3fadd5b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/513//#testresult/ef37b5d9f3fadd5b","status":"passed","time":{"start":1756710516599,"stop":1756710517263,"duration":664}},{"uid":"5c4f1438593827ec","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/512//#testresult/5c4f1438593827ec","status":"passed","time":{"start":1756623997078,"stop":1756623997556,"duration":478}},{"uid":"f0ce3bf44270a781","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/511//#testresult/f0ce3bf44270a781","status":"passed","time":{"start":1756537594785,"stop":1756537595260,"duration":475}},{"uid":"4955ab3a320524f2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/510//#testresult/4955ab3a320524f2","status":"passed","time":{"start":1756451237505,"stop":1756451238044,"duration":539}},{"uid":"834214dc635704d8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/509//#testresult/834214dc635704d8","status":"passed","time":{"start":1756385890129,"stop":1756385890873,"duration":744}},{"uid":"263344c4a5cb21a2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/508//#testresult/263344c4a5cb21a2","status":"passed","time":{"start":1756364858415,"stop":1756364859310,"duration":895}},{"uid":"a5e4a72bf28d2d06","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/507//#testresult/a5e4a72bf28d2d06","status":"passed","time":{"start":1756278447401,"stop":1756278448135,"duration":734}},{"uid":"799998aecf907d94","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/506//#testresult/799998aecf907d94","status":"passed","time":{"start":1756192058754,"stop":1756192059224,"duration":470}},{"uid":"5da12904e002d840","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/505//#testresult/5da12904e002d840","status":"passed","time":{"start":1756105690421,"stop":1756105690886,"duration":465}},{"uid":"760a1d33c92c3230","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/504//#testresult/760a1d33c92c3230","status":"passed","time":{"start":1756019194663,"stop":1756019195141,"duration":478}},{"uid":"fc26a518474f8879","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/503//#testresult/fc26a518474f8879","status":"passed","time":{"start":1755932782097,"stop":1755932782746,"duration":649}},{"uid":"6374d9463c7de024","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/502//#testresult/6374d9463c7de024","status":"passed","time":{"start":1755847644741,"stop":1755847645398,"duration":657}},{"uid":"3223eb65b957c984","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/501//#testresult/3223eb65b957c984","status":"passed","time":{"start":1755846443950,"stop":1755846444481,"duration":531}},{"uid":"4fb584a76da2cd5e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/500//#testresult/4fb584a76da2cd5e","status":"passed","time":{"start":1755843896806,"stop":1755843897358,"duration":552}}]},"tags":["callback","unhappy_path"]},"source":"73a52e845fd9fd60.json","parameterValues":[]}