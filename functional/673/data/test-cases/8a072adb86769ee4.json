{"uid":"8a072adb86769ee4","name":"Test Takeover Flow","fullName":"functional-tests.tests.test_takeover#test_takeover_flow","historyId":"01c692a137a0873ebe490620c5b16d24","time":{"start":1763982851806,"stop":1763982852189,"duration":383},"description":"Test the takeover flow where a user changes service provider","descriptionHtml":"<p>Test the takeover flow where a user changes service provider</p>\n","status":"failed","statusMessage":"AssertionError: Failed to activate user with service provider A: { \"statusCode\": 401, \"message\": \"Invalid JWT.\" }\nassert 401 == 201\n +  where 401 = <Response [401]>.status_code","statusTrace":"random_fiscal_code = 'LTTCLC51E47X000G', token_a = 'Bearer ***REDACTED***'\ntoken_b = 'Bearer ***REDACTED***'\n\n    @allure.epic('Activation')\n    @allure.feature('Takeover happy path')\n    @allure.title('Test Takeover Flow')\n    @allure.story('Takeover')\n    @allure.tag('functional', 'happy_path', 'activation', 'takeover')\n    @pytest.mark.functional\n    @pytest.mark.happy_path\n    def test_takeover_flow(random_fiscal_code, token_a, token_b):\n        \"\"\"Test the takeover flow where a user changes service provider\"\"\"\n    \n        activation_response = activate(token_a, random_fiscal_code, secrets.debtor_service_provider.service_provider_id)\n>       assert activation_response.status_code == 201, f\"Failed to activate user with service provider A: {activation_response.text}\"\nE       AssertionError: Failed to activate user with service provider A: { \"statusCode\": 401, \"message\": \"Invalid JWT.\" }\nE       assert 401 == 201\nE        +  where 401 = <Response [401]>.status_code\n\nfunctional-tests/tests/test_takeover.py:28: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1763982759205,"stop":1763982759270,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token_a","time":{"start":1763982851031,"stop":1763982851426,"duration":395},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_fiscal_code","time":{"start":1763982851031,"stop":1763982851031,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token_b","time":{"start":1763982851426,"stop":1763982851806,"duration":380},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"tag","value":"functional"},{"name":"tag","value":"happy_path"},{"name":"epic","value":"Activation"},{"name":"story","value":"Takeover"},{"name":"tag","value":"activation"},{"name":"feature","value":"Takeover happy path"},{"name":"tag","value":"takeover"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"functional"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_takeover"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2513-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_takeover"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":42,"unknown":0,"total":43},"items":[{"uid":"13d2df3e24fc3832","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/672/#testresult/13d2df3e24fc3832","status":"passed","time":{"start":1763978677830,"stop":1763978682615,"duration":4785}},{"uid":"142d3639f2f6edf5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/671/#testresult/142d3639f2f6edf5","status":"passed","time":{"start":1763965701187,"stop":1763965704736,"duration":3549}},{"uid":"d2fbb04c5a75d6db","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/670/#testresult/d2fbb04c5a75d6db","status":"passed","time":{"start":1763879129173,"stop":1763879132513,"duration":3340}},{"uid":"f28b0c0e033a3394","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/669/#testresult/f28b0c0e033a3394","status":"passed","time":{"start":1763792701987,"stop":1763792706236,"duration":4249}},{"uid":"59918858348d880c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/668/#testresult/59918858348d880c","status":"passed","time":{"start":1763706513979,"stop":1763706518390,"duration":4411}},{"uid":"e0543210eae67a90","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/667/#testresult/e0543210eae67a90","status":"passed","time":{"start":1763620009304,"stop":1763620013522,"duration":4218}},{"uid":"3e808c227e2bf4ba","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/666/#testresult/3e808c227e2bf4ba","status":"passed","time":{"start":1763533600589,"stop":1763533603685,"duration":3096}},{"uid":"e2ac0163c02a7bbe","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/665/#testresult/e2ac0163c02a7bbe","status":"passed","time":{"start":1763447217550,"stop":1763447221417,"duration":3867}},{"uid":"2b177aee7aa2762b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/664/#testresult/2b177aee7aa2762b","status":"passed","time":{"start":1763360883968,"stop":1763360887505,"duration":3537}},{"uid":"1fc929aaec59dd0e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/663/#testresult/1fc929aaec59dd0e","status":"passed","time":{"start":1763274340436,"stop":1763274343943,"duration":3507}},{"uid":"21b3598214f7d18f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/662/#testresult/21b3598214f7d18f","status":"passed","time":{"start":1763187913518,"stop":1763187917858,"duration":4340}},{"uid":"65470023c9f9d4a4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/661/#testresult/65470023c9f9d4a4","status":"passed","time":{"start":1763101668099,"stop":1763101672373,"duration":4274}},{"uid":"de6a3de73a586952","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/660/#testresult/de6a3de73a586952","status":"passed","time":{"start":1763044424386,"stop":1763044427651,"duration":3265}},{"uid":"5818c3770d681270","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/659/#testresult/5818c3770d681270","status":"passed","time":{"start":1763015198648,"stop":1763015203054,"duration":4406}},{"uid":"37da6b41d5df07f6","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/658/#testresult/37da6b41d5df07f6","status":"passed","time":{"start":1762965072736,"stop":1762965076119,"duration":3383}},{"uid":"5dfe29ed05404b6d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/657/#testresult/5dfe29ed05404b6d","status":"passed","time":{"start":1762956850987,"stop":1762956855488,"duration":4501}},{"uid":"add9b9186908384","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/656/#testresult/add9b9186908384","status":"passed","time":{"start":1762941895312,"stop":1762941898716,"duration":3404}},{"uid":"4cc9407e52088d5f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/603//#testresult/4cc9407e52088d5f","status":"passed","time":{"start":1762151174580,"stop":1762151178757,"duration":4177}},{"uid":"c2453f10a9a2679b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/602//#testresult/c2453f10a9a2679b","status":"passed","time":{"start":1762064621562,"stop":1762064626350,"duration":4788}},{"uid":"c1ee1051f6c10aad","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/601//#testresult/c1ee1051f6c10aad","status":"passed","time":{"start":1761978138500,"stop":1761978142634,"duration":4134}}]},"tags":["functional","takeover","activation","happy_path"]},"source":"8a072adb86769ee4.json","parameterValues":[]}