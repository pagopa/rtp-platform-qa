{"uid":"699d8c51db9b884c","name":"Happy path: a debt position is updated in UAT environment","fullName":"functional-tests.tests.test_GPD_availability#test_update_debt_position","historyId":"6db460f048550dc883df5a5d02b60086","time":{"start":1763982771432,"stop":1763982777943,"duration":6511},"description":"\nVerify that a debt position can be updated successfully.\n","descriptionHtml":"<p>Verify that a debt position can be updated successfully.</p>\n","status":"failed","statusMessage":"AssertionError: Expected 200 but got 400\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"gpd_test_data = namespace(debtor_fc='GRGRSL00C01X000Z', iupd='e499e6f6ef4c4d2bb', iuv='93211104470857048', subscription_key='fceef49eb5874c1fa60e488724cddc58', organization_id='02438750586')\nenvironment = {'create_function': <function environment.<locals>.<lambda> at 0x7f0da3aea980>, 'delete_function': <function environme...> at 0x7f0da3aeaae0>, 'get_function': <function environment.<locals>.<lambda> at 0x7f0da3aeaa30>, 'is_dev': False, ...}\n\n    @allure.epic('GPD Availability')\n    @allure.feature('Update Debt Positions happy path')\n    @allure.story('Update Debt Position')\n    @allure.tag('debt_positions', 'happy_path, availability')\n    @pytest.mark.debt_positions\n    @pytest.mark.happy_path\n    def test_update_debt_position(gpd_test_data, environment):\n        \"\"\"\n            Verify that a debt position can be updated successfully.\n        \"\"\"\n        allure.dynamic.title(f\"Happy path: a debt position is updated in {environment['name']} environment\")\n    \n        payload = create_debt_position_payload(\n            debtor_fc=gpd_test_data.debtor_fc,\n            iupd=gpd_test_data.iupd,\n            iuv=gpd_test_data.iuv\n        )\n    \n        create_response = environment['create_function'](\n            gpd_test_data.subscription_key,\n            gpd_test_data.organization_id,\n            payload,\n            to_publish=True\n        )\n        assert create_response.status_code == 201, f'Expected 201 but got {create_response.status_code}'\n    \n        get_initial_response = environment['get_function'](\n            gpd_test_data.subscription_key,\n            gpd_test_data.organization_id,\n            gpd_test_data.iupd\n        )\n        assert get_initial_response.status_code == 200, f'Expected 200 but got {get_initial_response.status_code}'\n    \n        time.sleep(5)\n    \n        update_payload = create_debt_position_update_payload(\n            iupd=gpd_test_data.iupd,\n            debtor_fc=gpd_test_data.debtor_fc,\n            iuv=gpd_test_data.iuv\n        )\n    \n        update_response = environment['update_function'](\n            gpd_test_data.subscription_key,\n            gpd_test_data.organization_id,\n            gpd_test_data.iupd,\n            update_payload\n        )\n>       assert update_response.status_code == 200, f'Expected 200 but got {update_response.status_code}'\nE       AssertionError: Expected 200 but got 400\nE       assert 400 == 200\nE        +  where 400 = <Response [400]>.status_code\n\nfunctional-tests/tests/test_GPD_availability.py:126: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1763982759205,"stop":1763982759270,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_data","time":{"start":1763982770554,"stop":1763982771431,"duration":877},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"environment","time":{"start":1763982770554,"stop":1763982770554,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"gpd_test_data","time":{"start":1763982771432,"stop":1763982771432,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"epic","value":"GPD Availability"},{"name":"feature","value":"Update Debt Positions happy path"},{"name":"tag","value":"happy_path, availability"},{"name":"story","value":"Update Debt Position"},{"name":"tag","value":"debt_positions"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"debt_positions"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_GPD_availability"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2513-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_GPD_availability"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"environment","value":"{'name': 'UAT', 'is_dev': False, 'create_function': <function environment.<locals>.<lambda> at 0x7f0da3aea980>, 'get_function': <function environment.<locals>.<lambda> at 0x7f0da3aeaa30>, 'delete_function': <function environment.<locals>.<lambda> at 0x7f0da3aeaae0>, 'update_function': <function environment.<locals>.<lambda> at 0x7f0da3aeab90>, 'subscription_key': 'fceef49eb5874c1fa60e488724cddc58', 'organization_id': '02438750586'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["debt_positions","happy_path, availability","happy_path"]},"source":"699d8c51db9b884c.json","parameterValues":["{'name': 'UAT', 'is_dev': False, 'create_function': <function environment.<locals>.<lambda> at 0x7f0da3aea980>, 'get_function': <function environment.<locals>.<lambda> at 0x7f0da3aeaa30>, 'delete_function': <function environment.<locals>.<lambda> at 0x7f0da3aeaae0>, 'update_function': <function environment.<locals>.<lambda> at 0x7f0da3aeab90>, 'subscription_key': 'fceef49eb5874c1fa60e488724cddc58', 'organization_id': '02438750586'}"]}