{"uid":"9a6b34b658d4ad65","name":"An RTP is sent through CBI API","fullName":"functional-tests.tests.test_debtor_service_provider_availability#test_send_rtp_to_cbi","historyId":"02bce6347ef196fe199a14c6e2a830f5","time":{"start":1763619959467,"stop":1763619966132,"duration":6665},"status":"failed","statusMessage":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","statusTrace":"@allure.feature('RTP Send')\n    @allure.story('Service provider sends an RTP to CBI directly')\n    @allure.title('An RTP is sent through CBI API')\n    @pytest.mark.send\n    @pytest.mark.happy_path\n    @pytest.mark.cbi\n    def test_send_rtp_to_cbi():\n        rtp_data = generate_rtp_data()\n        cbi_payload = generate_epc_rtp_data(rtp_data, bic='UNCRITMM')\n    \n        auth = client_credentials_to_auth_token(\n            secrets.CBI_client_id, secrets.CBI_client_secret\n        )\n        cert, key = pfx_to_pem(\n            secrets.CBI_client_PFX_base64,\n            secrets.CBI_client_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n        cbi_token = get_cbi_access_token(cert, key, auth)\n        response = send_srtp_to_cbi(f\"Bearer {cbi_token}\", cbi_payload)\n>       assert response.status_code == 201\nE       assert 400 == 201\nE        +  where 400 = <Response [400]>.status_code\n\nfunctional-tests/tests/test_debtor_service_provider_availability.py:57: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1763619784556,"stop":1763619784624,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"feature","value":"RTP Send"},{"name":"story","value":"Service provider sends an RTP to CBI directly"},{"name":"tag","value":"cbi"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"send"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_debtor_service_provider_availability"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2517-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_debtor_service_provider_availability"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":31,"broken":0,"skipped":0,"passed":15,"unknown":0,"total":46},"items":[{"uid":"7073987142f51e7c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/666/#testresult/7073987142f51e7c","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763533564007,"stop":1763533570366,"duration":6359}},{"uid":"9c576e8cc4692506","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/665/#testresult/9c576e8cc4692506","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763447182144,"stop":1763447188388,"duration":6244}},{"uid":"24072dfc7d482d05","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/664/#testresult/24072dfc7d482d05","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763360840150,"stop":1763360846552,"duration":6402}},{"uid":"13d041220096f5df","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/663/#testresult/13d041220096f5df","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763274294773,"stop":1763274301324,"duration":6551}},{"uid":"f226b5b39a75ec93","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/662/#testresult/f226b5b39a75ec93","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763187862459,"stop":1763187869214,"duration":6755}},{"uid":"b6035223339bec90","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/661/#testresult/b6035223339bec90","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763101619082,"stop":1763101625934,"duration":6852}},{"uid":"acb40912bb5409dc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/660/#testresult/acb40912bb5409dc","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763044387185,"stop":1763044393314,"duration":6129}},{"uid":"d64f997c8f45ad53","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/659/#testresult/d64f997c8f45ad53","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763015147354,"stop":1763015154193,"duration":6839}},{"uid":"c934af4d31078b58","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/658/#testresult/c934af4d31078b58","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1762965031093,"stop":1762965037336,"duration":6243}},{"uid":"a213bb3088b2730c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/657/#testresult/a213bb3088b2730c","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1762956768806,"stop":1762956775298,"duration":6492}},{"uid":"cf1882c465bf2fdc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/656/#testresult/cf1882c465bf2fdc","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1762941854924,"stop":1762941862157,"duration":7233}},{"uid":"a91655fbcda3e1e9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/603//#testresult/a91655fbcda3e1e9","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1762151134153,"stop":1762151140526,"duration":6373}},{"uid":"bc96e9870210a782","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/602//#testresult/bc96e9870210a782","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1762064577813,"stop":1762064583867,"duration":6054}},{"uid":"cb304e234823e021","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/601//#testresult/cb304e234823e021","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761978098902,"stop":1761978105145,"duration":6243}},{"uid":"cc13e60d9d0c2a0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/600//#testresult/cc13e60d9d0c2a0","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761891884035,"stop":1761891890567,"duration":6532}},{"uid":"f14c1bab681a90dd","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/599//#testresult/f14c1bab681a90dd","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761837089919,"stop":1761837096705,"duration":6786}},{"uid":"aa3ae9d22ae7252c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/598//#testresult/aa3ae9d22ae7252c","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761818872113,"stop":1761818878459,"duration":6346}},{"uid":"263db5bdeee05e69","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/597//#testresult/263db5bdeee05e69","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761805395790,"stop":1761805398384,"duration":2594}},{"uid":"ba8450ecc273d9b3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/596//#testresult/ba8450ecc273d9b3","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761752098338,"stop":1761752104898,"duration":6560}},{"uid":"b5e02878ea3f006","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/595//#testresult/b5e02878ea3f006","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1761719097058,"stop":1761719104254,"duration":7196}}]},"tags":["cbi","send","happy_path"]},"source":"9a6b34b658d4ad65.json","parameterValues":[]}