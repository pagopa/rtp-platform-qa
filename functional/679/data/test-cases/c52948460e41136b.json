{"uid":"c52948460e41136b","name":"An RTP is sent through CBI API","fullName":"functional-tests.tests.test_debtor_service_provider_availability#test_send_rtp_to_cbi","historyId":"02bce6347ef196fe199a14c6e2a830f5","time":{"start":1764224851652,"stop":1764224854350,"duration":2698},"status":"failed","statusMessage":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","statusTrace":"@allure.feature('RTP Send')\n    @allure.story('Service provider sends an RTP to CBI directly')\n    @allure.title('An RTP is sent through CBI API')\n    @pytest.mark.send\n    @pytest.mark.happy_path\n    @pytest.mark.cbi\n    def test_send_rtp_to_cbi():\n        rtp_data = generate_rtp_data()\n        cbi_payload = generate_epc_rtp_data(rtp_data, bic='UNCRITMM')\n    \n        auth = client_credentials_to_auth_token(\n            secrets.CBI_client_id, secrets.CBI_client_secret\n        )\n        cert, key = pfx_to_pem(\n            secrets.CBI_client_PFX_base64,\n            secrets.CBI_client_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n        cbi_token = get_cbi_access_token(cert, key, auth)\n        response = send_srtp_to_cbi(f\"Bearer {cbi_token}\", cbi_payload)\n>       assert response.status_code == 201\nE       assert 400 == 201\nE        +  where 400 = <Response [400]>.status_code\n\nfunctional-tests/tests/test_debtor_service_provider_availability.py:57: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1764224698591,"stop":1764224698657,"duration":66},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"feature","value":"RTP Send"},{"name":"story","value":"Service provider sends an RTP to CBI directly"},{"name":"tag","value":"cbi"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"send"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_debtor_service_provider_availability"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2504-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_debtor_service_provider_availability"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":32,"broken":0,"skipped":0,"passed":26,"unknown":0,"total":58},"items":[{"uid":"7cda8dd7a7e65457","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/678/#testresult/7cda8dd7a7e65457","status":"passed","time":{"start":1764165382115,"stop":1764165386854,"duration":4739}},{"uid":"d7c0168f09bc9d1c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/677/#testresult/d7c0168f09bc9d1c","status":"passed","time":{"start":1764163699667,"stop":1764163704141,"duration":4474}},{"uid":"979bb6f2ba9350a1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/676/#testresult/979bb6f2ba9350a1","status":"passed","time":{"start":1764138429048,"stop":1764138434525,"duration":5477}},{"uid":"9df9636144ffb3b8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/675/#testresult/9df9636144ffb3b8","status":"passed","time":{"start":1764052039710,"stop":1764052046804,"duration":7094}},{"uid":"9808eb453692e7a7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/674/#testresult/9808eb453692e7a7","status":"passed","time":{"start":1763985424554,"stop":1763985427867,"duration":3313}},{"uid":"180a672aa15da71a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/673/#testresult/180a672aa15da71a","status":"passed","time":{"start":1763982818029,"stop":1763982821687,"duration":3658}},{"uid":"8931d3a469ef0c47","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/672/#testresult/8931d3a469ef0c47","status":"passed","time":{"start":1763978627456,"stop":1763978631529,"duration":4073}},{"uid":"13e98eda6da3946b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/671/#testresult/13e98eda6da3946b","status":"passed","time":{"start":1763965656513,"stop":1763965664516,"duration":8003}},{"uid":"5602e8784b848436","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/670/#testresult/5602e8784b848436","status":"passed","time":{"start":1763879090181,"stop":1763879095729,"duration":5548}},{"uid":"5ebd11a4978e08a9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/669/#testresult/5ebd11a4978e08a9","status":"passed","time":{"start":1763792650689,"stop":1763792657827,"duration":7138}},{"uid":"3e3d1b826939304a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/668/#testresult/3e3d1b826939304a","status":"passed","time":{"start":1763706454060,"stop":1763706461003,"duration":6943}},{"uid":"9a6b34b658d4ad65","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/667/#testresult/9a6b34b658d4ad65","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763619959467,"stop":1763619966132,"duration":6665}},{"uid":"7073987142f51e7c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/666/#testresult/7073987142f51e7c","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763533564007,"stop":1763533570366,"duration":6359}},{"uid":"9c576e8cc4692506","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/665/#testresult/9c576e8cc4692506","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763447182144,"stop":1763447188388,"duration":6244}},{"uid":"24072dfc7d482d05","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/664/#testresult/24072dfc7d482d05","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763360840150,"stop":1763360846552,"duration":6402}},{"uid":"13d041220096f5df","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/663/#testresult/13d041220096f5df","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763274294773,"stop":1763274301324,"duration":6551}},{"uid":"f226b5b39a75ec93","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/662/#testresult/f226b5b39a75ec93","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763187862459,"stop":1763187869214,"duration":6755}},{"uid":"b6035223339bec90","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/661/#testresult/b6035223339bec90","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763101619082,"stop":1763101625934,"duration":6852}},{"uid":"acb40912bb5409dc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/660/#testresult/acb40912bb5409dc","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763044387185,"stop":1763044393314,"duration":6129}},{"uid":"d64f997c8f45ad53","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/659/#testresult/d64f997c8f45ad53","status":"failed","statusDetails":"AssertionError: assert 400 == 201\n +  where 400 = <Response [400]>.status_code","time":{"start":1763015147354,"stop":1763015154193,"duration":6839}}]},"tags":["cbi","send","happy_path"]},"source":"c52948460e41136b.json","parameterValues":[]}