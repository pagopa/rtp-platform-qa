{"uid":"7219a8e51349fb92","name":"Happy path: a debt position is deleted","fullName":"tests.test_debt_position#test_delete_debt_position_dev_happy_path","historyId":"12f271f0fcc6ad3a5577f2459357dd27","time":{"start":1753945824762,"stop":1753945829370,"duration":4608},"status":"failed","statusMessage":"AssertionError: Expected 404 but got 401\nassert 401 == 404\n +  where 401 = <Response [401]>.status_code","statusTrace":"@allure.feature('Debt Positions')\n    @allure.story('Delete Debt Position')\n    @allure.title('Happy path: a debt position is deleted')\n    @pytest.mark.debt_positions\n    @pytest.mark.happy_path\n    def test_delete_debt_position_dev_happy_path():\n        access_token = get_valid_access_token(\n            client_id=secrets.debtor_service_provider.client_id,\n            client_secret=secrets.debtor_service_provider.client_secret,\n            access_token_function=get_access_token\n        )\n    \n        debtor_fc = fake_fc()\n    \n        activation_response = activate(\n            access_token,\n            debtor_fc,\n            secrets.debtor_service_provider.service_provider_id\n        )\n        assert activation_response.status_code == 201, 'Error activating debtor before creating debt position'\n    \n        subscription_key = secrets.debt_positions_dev.subscription_key\n        organization_id = secrets.debt_positions_dev.organization_id\n    \n        iupd = generate_iupd()\n        iuv = generate_iuv()\n    \n        payload = create_debt_position_payload(debtor_fc=debtor_fc, iupd=iupd, iuv=iuv)\n    \n        create_response = create_debt_position_dev(subscription_key, organization_id, payload, to_publish=True)\n        assert create_response.status_code == 201, f'Expected 201 but got {create_response.status_code}'\n    \n        import time\n        time.sleep(1)\n    \n        delete_response = delete_debt_position_dev(subscription_key, organization_id, iupd)\n        assert delete_response.status_code == 200, f'Expected 200 but got {delete_response.status_code}'\n    \n        get_response = get_debt_position(subscription_key, organization_id, iupd)\n>       assert get_response.status_code == 404, f'Expected 404 but got {get_response.status_code}'\nE       AssertionError: Expected 404 but got 401\nE       assert 401 == 404\nE        +  where 401 = <Response [401]>.status_code\n\nfunctional-tests/tests/test_debt_position.py:169: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1753945769730,"stop":1753945769788,"duration":58},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"feature","value":"Debt Positions"},{"name":"story","value":"Delete Debt Position"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"debt_positions"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_debt_position"},{"name":"host","value":"pkrvmjbmru5nbw0"},{"name":"thread","value":"2573-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_debt_position"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":8,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":8},"items":[{"uid":"6351c8ce60f22909","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/463//#testresult/6351c8ce60f22909","status":"failed","statusDetails":"AssertionError: Expected 404 but got 401\nassert 401 == 404\n +  where 401 = <Response [401]>.status_code","time":{"start":1753878263474,"stop":1753878267693,"duration":4219}},{"uid":"6c2c4af649174a05","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/462//#testresult/6c2c4af649174a05","status":"failed","statusDetails":"AssertionError: Expected 404 but got 401\nassert 401 == 404\n +  where 401 = <Response [401]>.status_code","time":{"start":1753859471820,"stop":1753859476140,"duration":4320}},{"uid":"83548e4be03c8f19","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/461//#testresult/83548e4be03c8f19","status":"failed","statusDetails":"AssertionError: Expected 404 but got 401\nassert 401 == 404\n +  where 401 = <Response [401]>.status_code","time":{"start":1753773027603,"stop":1753773031797,"duration":4194}},{"uid":"45e32be6aaff5c8c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/460//#testresult/45e32be6aaff5c8c","status":"failed","statusDetails":"AssertionError: Expected 404 but got 401\nassert 401 == 404\n +  where 401 = <Response [401]>.status_code","time":{"start":1753686705041,"stop":1753686708446,"duration":3405}},{"uid":"7b67d8a19d77e72e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/459//#testresult/7b67d8a19d77e72e","status":"failed","statusDetails":"AssertionError: Expected 404 but got 401\nassert 401 == 404\n +  where 401 = <Response [401]>.status_code","time":{"start":1753600043964,"stop":1753600046792,"duration":2828}},{"uid":"40a3c1807b1a2203","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/458//#testresult/40a3c1807b1a2203","status":"failed","statusDetails":"AssertionError: Expected 404 but got 401\nassert 401 == 404\n +  where 401 = <Response [401]>.status_code","time":{"start":1753513655316,"stop":1753513658121,"duration":2805}},{"uid":"404e193ea59c90f3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/457//#testresult/404e193ea59c90f3","status":"failed","statusDetails":"AssertionError: Expected 404 but got 401\nassert 401 == 404\n +  where 401 = <Response [401]>.status_code","time":{"start":1753433555913,"stop":1753433560113,"duration":4200}}]},"tags":["debt_positions","happy_path"]},"source":"7219a8e51349fb92.json","parameterValues":[]}