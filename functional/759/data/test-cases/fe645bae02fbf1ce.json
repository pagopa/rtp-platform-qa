{"uid":"fe645bae02fbf1ce","name":"A debtor cannot be activated more than once","fullName":"functional-tests.tests.test_debtor_activation_list#test_fail_activate_debtor_two_times","historyId":"caa062f9747ed5126c2aa5c0977501a0","time":{"start":1766730505096,"stop":1766730506319,"duration":1223},"status":"failed","statusMessage":"AssertionError: Expected empty body for 409 response on double activation\nassert ('{\"errors\":[{...dy active\"}]}' == ''\n  \n  + {\"errors\":[{\"code\":\"01031006E\",\"description\":\"User is already active\"}]} or '{\"errors\":[{\"code\":\"01031006E\",\"description\":\"User is already active\"}]}' is None)\n +  where '{\"errors\":[{\"code\":\"01031006E\",\"description\":\"User is already active\"}]}' = <Response [409]>.text","statusTrace":"debtor_service_provider_token_a = 'Bearer eyJraWQiOiJiM2MxOWIxODA0ODg0ZGFjOGViYjY3NDhlODcyZDE0ZS83ZjFkZWQzZWQ4OTA0MzEyOTYwMjU5MDIxZjY3Y2I0MCIsImFsZyI6Il...ZB48nxnjQKK_G5c1TEGdMCRKc587nzWvoZjfrFYtxGmFKoGqP0ZM5nVYgP4xegzWWA_UMOsGYvBMr9QgzNh9faVK3as1CiZFr1togCTuaE2_amwWvAS4vw'\nrandom_fiscal_code = 'TRTVNS83B10X000B'\n\n    @allure.epic('Debtor Activation')\n    @allure.feature('Activation')\n    @allure.story('Debtor activation')\n    @allure.title('A debtor cannot be activated more than once')\n    @allure.tag('functional', 'unhappy_path', 'activation', 'debtor_activation')\n    @pytest.mark.auth\n    @pytest.mark.activation\n    @pytest.mark.unhappy_path\n    def test_fail_activate_debtor_two_times(debtor_service_provider_token_a, random_fiscal_code):\n    \n        res = activate(debtor_service_provider_token_a, random_fiscal_code, secrets.debtor_service_provider.service_provider_id)\n        assert res.status_code == 201, f'Error activating debtor, expected 201 but got {res.status_code}'\n    \n        res = activate(debtor_service_provider_token_a, random_fiscal_code, secrets.debtor_service_provider.service_provider_id)\n        assert res.status_code == 409, f'Error activating debtor, expected 409 but got {res.status_code}'\n    \n>       assert res.text == '' or res.text is None, 'Expected empty body for 409 response on double activation'\nE       AssertionError: Expected empty body for 409 response on double activation\nE       assert ('{\"errors\":[{...dy active\"}]}' == ''\nE         \nE         + {\"errors\":[{\"code\":\"01031006E\",\"description\":\"User is already active\"}]} or '{\"errors\":[{\"code\":\"01031006E\",\"description\":\"User is already active\"}]}' is None)\nE        +  where '{\"errors\":[{\"code\":\"01031006E\",\"description\":\"User is already active\"}]}' = <Response [409]>.text\n\nfunctional-tests/tests/test_debtor_activation_list.py:75: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1766730334601,"stop":1766730334662,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"debtor_service_provider_token_a","time":{"start":1766730504508,"stop":1766730505096,"duration":588},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_fiscal_code","time":{"start":1766730505096,"stop":1766730505096,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"epic","value":"Debtor Activation"},{"name":"story","value":"Debtor activation"},{"name":"feature","value":"Activation"},{"name":"tag","value":"activation"},{"name":"tag","value":"debtor_activation"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"functional"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"activation"},{"name":"tag","value":"auth"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_debtor_activation_list"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"2596-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_debtor_activation_list"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":29,"unknown":0,"total":32},"items":[{"uid":"26c3c335bbecd791","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/758/#testresult/26c3c335bbecd791","status":"failed","statusDetails":"AssertionError: Expected empty body for 409 response on double activation\nassert ('{\"errors\":[{...dy active\"}]}' == ''\n  \n  + {\"errors\":[{\"code\":\"01031006E\",\"description\":\"User is already active\"}]} or '{\"errors\":[{\"code\":\"01031006E\",\"description\":\"User is already active\"}]}' is None)\n +  where '{\"errors\":[{\"code\":\"01031006E\",\"description\":\"User is already active\"}]}' = <Response [409]>.text","time":{"start":1766644109982,"stop":1766644111385,"duration":1403}},{"uid":"ec9adc84e30dba89","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/757/#testresult/ec9adc84e30dba89","status":"failed","statusDetails":"AssertionError: Expected empty body for 409 response on double activation\nassert ('{\"errors\":[{...dy active\"}]}' == ''\n  \n  + {\"errors\":[{\"code\":\"01031006E\",\"description\":\"User is already active\"}]} or '{\"errors\":[{\"code\":\"01031006E\",\"description\":\"User is already active\"}]}' is None)\n +  where '{\"errors\":[{\"code\":\"01031006E\",\"description\":\"User is already active\"}]}' = <Response [409]>.text","time":{"start":1766557699540,"stop":1766557700425,"duration":885}},{"uid":"8b99f66b7ecaba4c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/756/#testresult/8b99f66b7ecaba4c","status":"passed","time":{"start":1766471339576,"stop":1766471340861,"duration":1285}},{"uid":"ec9d89e7c752bf49","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/755/#testresult/ec9d89e7c752bf49","status":"passed","time":{"start":1766399787304,"stop":1766399788741,"duration":1437}},{"uid":"1398319fc650fe7a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/754/#testresult/1398319fc650fe7a","status":"passed","time":{"start":1766384991875,"stop":1766384992792,"duration":917}},{"uid":"8f2332ebeefff6fb","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/753/#testresult/8f2332ebeefff6fb","status":"passed","time":{"start":1766298344101,"stop":1766298345060,"duration":959}},{"uid":"f34c1b443cc63c3e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/752/#testresult/f34c1b443cc63c3e","status":"passed","time":{"start":1766211951458,"stop":1766211952299,"duration":841}},{"uid":"de2b75853a2b243b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/751/#testresult/de2b75853a2b243b","status":"passed","time":{"start":1766125652163,"stop":1766125653526,"duration":1363}},{"uid":"4c2ef8468b97a5d3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/750/#testresult/4c2ef8468b97a5d3","status":"passed","time":{"start":1766076099614,"stop":1766076100516,"duration":902}},{"uid":"c3c5f6fe6536dd68","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/749/#testresult/c3c5f6fe6536dd68","status":"passed","time":{"start":1766048557859,"stop":1766048559164,"duration":1305}},{"uid":"4a41d7f0cec99f99","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/748/#testresult/4a41d7f0cec99f99","status":"passed","time":{"start":1766039244534,"stop":1766039245501,"duration":967}},{"uid":"68f35d467ca4ff90","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/747/#testresult/68f35d467ca4ff90","status":"passed","time":{"start":1765966658267,"stop":1765966659642,"duration":1375}},{"uid":"53224766ab7f91a1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/746/#testresult/53224766ab7f91a1","status":"passed","time":{"start":1765952915881,"stop":1765952917470,"duration":1589}},{"uid":"9df28e7700c1f475","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/745/#testresult/9df28e7700c1f475","status":"passed","time":{"start":1765866530338,"stop":1765866531784,"duration":1446}},{"uid":"27fd7ef3779500a6","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/744/#testresult/27fd7ef3779500a6","status":"passed","time":{"start":1765780199193,"stop":1765780200128,"duration":935}},{"uid":"c9d65d31b13a14f8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/743/#testresult/c9d65d31b13a14f8","status":"passed","time":{"start":1765693528563,"stop":1765693529716,"duration":1153}},{"uid":"97e7cf151a84664","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/742/#testresult/97e7cf151a84664","status":"passed","time":{"start":1765607113349,"stop":1765607114746,"duration":1397}},{"uid":"9d1b5e255446e852","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/741/#testresult/9d1b5e255446e852","status":"passed","time":{"start":1765520892935,"stop":1765520894286,"duration":1351}},{"uid":"64402ff31785a0b3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/740/#testresult/64402ff31785a0b3","status":"passed","time":{"start":1765464766733,"stop":1765464767737,"duration":1004}},{"uid":"8e1a3b4f1a958a5c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/739/#testresult/8e1a3b4f1a958a5c","status":"passed","time":{"start":1765462873229,"stop":1765462874168,"duration":939}}]},"tags":["functional","auth","debtor_activation","activation","unhappy_path"]},"source":"fe645bae02fbf1ce.json","parameterValues":[]}