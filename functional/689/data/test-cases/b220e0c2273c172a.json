{"uid":"b220e0c2273c172a","name":"Unauthorized callback due to wrong certificate serial","fullName":"functional-tests.tests.test_callback#test_fail_send_rtp_callback_wrong_certificate_serial_DS_04b_compliant","historyId":"57e6727036fcb815e2dd5d776900728c","time":{"start":1764671044064,"stop":1764671044581,"duration":517},"status":"failed","statusMessage":"AssertionError: Expecting error from callback, expected 403 got 503\nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","statusTrace":"@allure.feature('RTP Callback')\n    @allure.story('Service provider sends a callback referred to an RTP')\n    @allure.title('Unauthorized callback due to wrong certificate serial')\n    @pytest.mark.callback\n    @pytest.mark.unhappy_path\n    def test_fail_send_rtp_callback_wrong_certificate_serial_DS_04b_compliant():\n        callback_data = generate_callback_data_DS_04b_compliant(BIC='MOCKSP01')\n    \n        cert, key = pfx_to_pem(\n            secrets.debtor_service_provider_mock_PFX_base64,\n            secrets.debtor_service_provider_mock_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n    \n        callback_response = srtp_callback(\n            rtp_payload=callback_data, cert_path=cert, key_path=key\n        )\n>       assert (\n            callback_response.status_code == 403\n        ), f\"Expecting error from callback, expected 403 got {callback_response.status_code}\"\nE       AssertionError: Expecting error from callback, expected 403 got 503\nE       assert 503 == 403\nE        +  where 503 = <Response [503]>.status_code\n\nfunctional-tests/tests/test_callback.py:241: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1764671006960,"stop":1764671007027,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"feature","value":"RTP Callback"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2502-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":62,"unknown":0,"total":68},"items":[{"uid":"2e59cc164c133774","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/688/#testresult/2e59cc164c133774","status":"failed","statusDetails":"AssertionError: Expecting error from callback, expected 403 got 503\nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","time":{"start":1764670274253,"stop":1764670274833,"duration":580}},{"uid":"9bf7b66d9183b6b8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/687/#testresult/9bf7b66d9183b6b8","status":"failed","statusDetails":"AssertionError: Expecting error from callback, expected 403 got 503\nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","time":{"start":1764668936694,"stop":1764668937129,"duration":435}},{"uid":"31b09e149adac325","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/686/#testresult/31b09e149adac325","status":"failed","statusDetails":"AssertionError: Expecting error from callback, expected 403 got 503\nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","time":{"start":1764656877047,"stop":1764656877537,"duration":490}},{"uid":"7a3c7e75834c1abf","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/685/#testresult/7a3c7e75834c1abf","status":"failed","statusDetails":"AssertionError: Expecting error from callback, expected 403 got 503\nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","time":{"start":1764598793327,"stop":1764598794036,"duration":709}},{"uid":"c42536f5166f6238","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/684/#testresult/c42536f5166f6238","status":"passed","time":{"start":1764590011731,"stop":1764590012411,"duration":680}},{"uid":"c7de3a0d4ff6f061","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/683/#testresult/c7de3a0d4ff6f061","status":"passed","time":{"start":1764570547279,"stop":1764570547736,"duration":457}},{"uid":"e3ff288b65923cb2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/682/#testresult/e3ff288b65923cb2","status":"passed","time":{"start":1764483941049,"stop":1764483941725,"duration":676}},{"uid":"ed5dfe70d1250bcf","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/681/#testresult/ed5dfe70d1250bcf","status":"passed","time":{"start":1764397451528,"stop":1764397452006,"duration":478}},{"uid":"6aeb2c9a5ced68ff","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/680/#testresult/6aeb2c9a5ced68ff","status":"passed","time":{"start":1764311233872,"stop":1764311234355,"duration":483}},{"uid":"c6b187285f5f7c95","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/679/#testresult/c6b187285f5f7c95","status":"passed","time":{"start":1764224836860,"stop":1764224838064,"duration":1204}},{"uid":"9ee0efc396c1e76b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/678/#testresult/9ee0efc396c1e76b","status":"passed","time":{"start":1764165367145,"stop":1764165367857,"duration":712}},{"uid":"9b81c7cca764af65","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/677/#testresult/9b81c7cca764af65","status":"passed","time":{"start":1764163689229,"stop":1764163689689,"duration":460}},{"uid":"813a9770e619a1ee","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/676/#testresult/813a9770e619a1ee","status":"passed","time":{"start":1764138415011,"stop":1764138415747,"duration":736}},{"uid":"2c0fe3c80ddfa895","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/675/#testresult/2c0fe3c80ddfa895","status":"passed","time":{"start":1764052028840,"stop":1764052029347,"duration":507}},{"uid":"270997f84051a530","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/674/#testresult/270997f84051a530","status":"passed","time":{"start":1763985412735,"stop":1763985413257,"duration":522}},{"uid":"329682f4bc30910","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/673/#testresult/329682f4bc30910","status":"passed","time":{"start":1763982808755,"stop":1763982809181,"duration":426}},{"uid":"a9a27f1835131b2f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/672/#testresult/a9a27f1835131b2f","status":"passed","time":{"start":1763978612531,"stop":1763978613216,"duration":685}},{"uid":"42bdb63cfac851bb","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/671/#testresult/42bdb63cfac851bb","status":"passed","time":{"start":1763965644438,"stop":1763965644962,"duration":524}},{"uid":"5adfb78f623110f1","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/670/#testresult/5adfb78f623110f1","status":"passed","time":{"start":1763879079528,"stop":1763879080002,"duration":474}},{"uid":"2bfc96bcefd81632","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/669/#testresult/2bfc96bcefd81632","status":"passed","time":{"start":1763792635495,"stop":1763792636243,"duration":748}}]},"tags":["callback","unhappy_path"]},"source":"b220e0c2273c172a.json","parameterValues":[]}