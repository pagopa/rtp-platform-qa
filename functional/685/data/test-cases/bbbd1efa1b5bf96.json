{"uid":"bbbd1efa1b5bf96","name":"Failed callback for non existing Service Provider - DS-08P compliant","fullName":"functional-tests.tests.test_callback#test_fail_send_rtp_callback_non_existing_service_provider_DS_08N_compliant","historyId":"9fe012bd421a6b5cf3dc5e8afd338c62","time":{"start":1764598795482,"stop":1764598796193,"duration":711},"status":"failed","statusMessage":"AssertionError: Expecting error from callback, expected 400 got 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"@allure.feature('RTP Callback')\n    @allure.story('Service provider sends a callback referred to an RTP')\n    @allure.title('Failed callback for non existing Service Provider - DS-08P compliant')\n    @pytest.mark.callback\n    @pytest.mark.unhappy_path\n    def test_fail_send_rtp_callback_non_existing_service_provider_DS_08N_compliant():\n        callback_data = generate_callback_data_DS_08N_compliant(BIC='MOCKSP99')\n    \n        cert, key = pfx_to_pem(\n            secrets.debtor_service_provider_mock_PFX_base64,\n            secrets.debtor_service_provider_mock_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n    \n        callback_response = srtp_callback(\n            rtp_payload=callback_data, cert_path=cert, key_path=key\n        )\n>       assert (\n            callback_response.status_code == 400\n        ), f\"Expecting error from callback, expected 400 got {callback_response.status_code}\"\nE       AssertionError: Expecting error from callback, expected 400 got 503\nE       assert 503 == 400\nE        +  where 503 = <Response [503]>.status_code\n\nfunctional-tests/tests/test_callback.py:310: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1764598738284,"stop":1764598738354,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"feature","value":"RTP Callback"},{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"functional-tests.tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2482-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"functional-tests.tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":62,"unknown":0,"total":64},"items":[{"uid":"cbd6e30e8fe62915","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/684/#testresult/cbd6e30e8fe62915","status":"passed","time":{"start":1764590013859,"stop":1764590014652,"duration":793}},{"uid":"d6ff23745bca6925","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/683/#testresult/d6ff23745bca6925","status":"passed","time":{"start":1764570548640,"stop":1764570549083,"duration":443}},{"uid":"47fd3caca9ef0bf3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/682/#testresult/47fd3caca9ef0bf3","status":"passed","time":{"start":1764483943164,"stop":1764483943837,"duration":673}},{"uid":"968608d7f4bc7fa3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/681/#testresult/968608d7f4bc7fa3","status":"passed","time":{"start":1764397453097,"stop":1764397453588,"duration":491}},{"uid":"c09ac91f834caea0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/680/#testresult/c09ac91f834caea0","status":"passed","time":{"start":1764311235364,"stop":1764311235868,"duration":504}},{"uid":"b3266b8a4bd0d19f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/679/#testresult/b3266b8a4bd0d19f","status":"passed","time":{"start":1764224839758,"stop":1764224840393,"duration":635}},{"uid":"1da555cb1b8c82c8","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/678/#testresult/1da555cb1b8c82c8","status":"passed","time":{"start":1764165369273,"stop":1764165369957,"duration":684}},{"uid":"52736ef9c542dc68","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/677/#testresult/52736ef9c542dc68","status":"passed","time":{"start":1764163690590,"stop":1764163691106,"duration":516}},{"uid":"cbcc17b0059634c0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/676/#testresult/cbcc17b0059634c0","status":"passed","time":{"start":1764138417012,"stop":1764138417765,"duration":753}},{"uid":"b7a2579394c9f809","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/675/#testresult/b7a2579394c9f809","status":"passed","time":{"start":1764052030371,"stop":1764052030867,"duration":496}},{"uid":"2c599b73288d8c86","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/674/#testresult/2c599b73288d8c86","status":"passed","time":{"start":1763985414342,"stop":1763985414910,"duration":568}},{"uid":"6a64c8cb50d2b976","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/673/#testresult/6a64c8cb50d2b976","status":"passed","time":{"start":1763982810082,"stop":1763982810522,"duration":440}},{"uid":"b3ffac28d266d135","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/672/#testresult/b3ffac28d266d135","status":"passed","time":{"start":1763978614647,"stop":1763978615329,"duration":682}},{"uid":"20c007cc2a6ff234","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/671/#testresult/20c007cc2a6ff234","status":"passed","time":{"start":1763965646111,"stop":1763965646700,"duration":589}},{"uid":"92aadee534ba7b7f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/670/#testresult/92aadee534ba7b7f","status":"passed","time":{"start":1763879080962,"stop":1763879081448,"duration":486}},{"uid":"c837dba5d4cf7998","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/669/#testresult/c837dba5d4cf7998","status":"passed","time":{"start":1763792637583,"stop":1763792638248,"duration":665}},{"uid":"446666a5727cb92","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/668/#testresult/446666a5727cb92","status":"passed","time":{"start":1763706441051,"stop":1763706441702,"duration":651}},{"uid":"12224c25f1455e21","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/667/#testresult/12224c25f1455e21","status":"passed","time":{"start":1763619947028,"stop":1763619947700,"duration":672}},{"uid":"cdf74c2beadebf32","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/666/#testresult/cdf74c2beadebf32","status":"passed","time":{"start":1763533554797,"stop":1763533555812,"duration":1015}},{"uid":"1eb85492031ed037","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/665/#testresult/1eb85492031ed037","status":"failed","statusDetails":"AssertionError: Expecting error from callback, expected 400 got 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1763447173425,"stop":1763447173907,"duration":482}}]},"tags":["callback","unhappy_path"]},"source":"bbbd1efa1b5bf96.json","parameterValues":[]}