{"uid":"e1db253210189033","name":"An RTP callback is successfully received","fullName":"tests.test_callback#test_receive_rtp_callback_DS_04b_compliant","historyId":"475e3c0708b05c2b7bfae9db8dc283af","time":{"start":1758270989575,"stop":1758270990111,"duration":536},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 502 Server Error: Bad Gateway for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token","statusTrace":"@allure.feature('RTP Callback')\n    @allure.story('Service provider sends a callback referred to an RTP')\n    @allure.title('An RTP callback is successfully received')\n    @pytest.mark.callback\n    @pytest.mark.happy_path\n    def test_receive_rtp_callback_DS_04b_compliant():\n    \n        rtp_data = generate_rtp_data()\n    \n>       debtor_service_provider_access_token = get_valid_access_token(\n            client_id=secrets.debtor_service_provider.client_id,\n            client_secret=secrets.debtor_service_provider.client_secret,\n            access_token_function=get_access_token,\n        )\n\nfunctional-tests/tests/test_callback.py:28: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi/auth.py:8: in get_valid_access_token\n    token_response.raise_for_status()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Response [502]>\n\n    def raise_for_status(self):\n        \"\"\"Raises :class:`HTTPError`, if one occurred.\"\"\"\n    \n        http_error_msg = \"\"\n        if isinstance(self.reason, bytes):\n            # We attempt to decode utf-8 first because some servers\n            # choose to localize their reason strings. If the string\n            # isn't utf-8, we fall back to iso-8859-1 for all other\n            # encodings. (See PR #3538)\n            try:\n                reason = self.reason.decode(\"utf-8\")\n            except UnicodeDecodeError:\n                reason = self.reason.decode(\"iso-8859-1\")\n        else:\n            reason = self.reason\n    \n        if 400 <= self.status_code < 500:\n            http_error_msg = (\n                f\"{self.status_code} Client Error: {reason} for url: {self.url}\"\n            )\n    \n        elif 500 <= self.status_code < 600:\n            http_error_msg = (\n                f\"{self.status_code} Server Error: {reason} for url: {self.url}\"\n            )\n    \n        if http_error_msg:\n>           raise HTTPError(http_error_msg, response=self)\nE           requests.exceptions.HTTPError: 502 Server Error: Bad Gateway for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token\n\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/requests/models.py:1026: HTTPError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1758270979519,"stop":1758270979579,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"feature","value":"RTP Callback"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"2488-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":42,"broken":29,"skipped":0,"passed":160,"unknown":0,"total":231},"items":[{"uid":"d615a7fd856d75ff","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/536//#testresult/d615a7fd856d75ff","status":"passed","time":{"start":1758266449548,"stop":1758266453058,"duration":3510}},{"uid":"1580711e80022bf2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/535//#testresult/1580711e80022bf2","status":"passed","time":{"start":1758180036269,"stop":1758180040919,"duration":4650}},{"uid":"5ebc882153be7c05","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/534//#testresult/5ebc882153be7c05","status":"passed","time":{"start":1758093634776,"stop":1758093637700,"duration":2924}},{"uid":"e799cdb147614336","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/533//#testresult/e799cdb147614336","status":"passed","time":{"start":1758007294724,"stop":1758007298727,"duration":4003}},{"uid":"ba9a79efdf0c7c17","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/532//#testresult/ba9a79efdf0c7c17","status":"passed","time":{"start":1757920924727,"stop":1757920927508,"duration":2781}},{"uid":"9bc0f9b0fdb423f4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/531//#testresult/9bc0f9b0fdb423f4","status":"passed","time":{"start":1757834362153,"stop":1757834366295,"duration":4142}},{"uid":"9c067e3f71091ecb","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/530//#testresult/9c067e3f71091ecb","status":"passed","time":{"start":1757747910635,"stop":1757747913827,"duration":3192}},{"uid":"4d7f6aef95341f05","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/529//#testresult/4d7f6aef95341f05","status":"passed","time":{"start":1757665819157,"stop":1757665823267,"duration":4110}},{"uid":"da5bfad805aee8d9","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/528//#testresult/da5bfad805aee8d9","status":"passed","time":{"start":1757661610606,"stop":1757661614610,"duration":4004}},{"uid":"55e807f16ed9ea2e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/527//#testresult/55e807f16ed9ea2e","status":"passed","time":{"start":1757598314086,"stop":1757598316980,"duration":2894}},{"uid":"d9c32057945c2c3a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/526//#testresult/d9c32057945c2c3a","status":"passed","time":{"start":1757575260676,"stop":1757575264122,"duration":3446}},{"uid":"7a7284ec79f7a212","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/525//#testresult/7a7284ec79f7a212","status":"failed","statusDetails":"AssertionError: assert 503 == 201\n +  where 503 = <Response [503]>.status_code","time":{"start":1757488952155,"stop":1757488959585,"duration":7430}},{"uid":"7df53339b422b2c5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/524//#testresult/7df53339b422b2c5","status":"passed","time":{"start":1757402490257,"stop":1757402495725,"duration":5468}},{"uid":"fcc43a22435ae2fc","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/523//#testresult/fcc43a22435ae2fc","status":"passed","time":{"start":1757316088433,"stop":1757316092665,"duration":4232}},{"uid":"a171703ce9999156","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/522//#testresult/a171703ce9999156","status":"passed","time":{"start":1757229576502,"stop":1757229580824,"duration":4322}},{"uid":"80713edd1281b6e0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/521//#testresult/80713edd1281b6e0","status":"passed","time":{"start":1757143107880,"stop":1757143112361,"duration":4481}},{"uid":"d2b49ae0eea2ab9f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/520//#testresult/d2b49ae0eea2ab9f","status":"broken","statusDetails":"requests.exceptions.HTTPError: 502 Server Error: Bad Gateway for url: https://api-mcshared.uat.cstar.pagopa.it/auth/token","time":{"start":1757057089434,"stop":1757057090051,"duration":617}},{"uid":"17c24647831f31ca","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/519//#testresult/17c24647831f31ca","status":"passed","time":{"start":1756969617962,"stop":1756969621933,"duration":3971}},{"uid":"ca3d758e81c643b5","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/518//#testresult/ca3d758e81c643b5","status":"passed","time":{"start":1756910826230,"stop":1756910831638,"duration":5408}},{"uid":"166db9ba40670cc4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/517//#testresult/166db9ba40670cc4","status":"passed","time":{"start":1756883239098,"stop":1756883242651,"duration":3553}}]},"tags":["callback","happy_path"]},"source":"e1db253210189033.json","parameterValues":[]}