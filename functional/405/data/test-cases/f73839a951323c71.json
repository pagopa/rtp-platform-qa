{"uid":"f73839a951323c71","name":"Auth endpoint returns valid token","fullName":"tests.test_debtor_service_provider_availability#test_get_cbi_access_token","historyId":"7a0cf1be62d91a7d76b46dbd95490051","time":{"start":1750777965643,"stop":1750777965643,"duration":0},"status":"broken","statusMessage":"binascii.Error: Invalid base64-encoded string: number of data characters (21) cannot be 1 more than a multiple of 4","statusTrace":"@allure.feature('Authentication')\n    @allure.story('Client authenticates to CBI')\n    @allure.title('Auth endpoint returns valid token')\n    @pytest.mark.auth\n    def test_get_cbi_access_token():\n        auth = client_credentials_to_auth_token(\n            secrets.CBI_client_id, secrets.CBI_client_secret\n        )\n>       cert, key = pfx_to_pem(\n            secrets.CBI_client_PFX_base64,\n            secrets.CBI_client_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n\nfunctional-tests/tests/test_debtor_service_provider_availability.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nutils/cryptography.py:20: in pfx_to_pem\n    pfx_data = base64.b64decode(base64_pfx)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ns = b'@env CBI_CLIENT_PFX_BASE64', altchars = None, validate = False\n\n    def b64decode(s, altchars=None, validate=False):\n        \"\"\"Decode the Base64 encoded bytes-like object or ASCII string s.\n    \n        Optional altchars must be a bytes-like object or ASCII string of length 2\n        which specifies the alternative alphabet used instead of the '+' and '/'\n        characters.\n    \n        The result is returned as a bytes object.  A binascii.Error is raised if\n        s is incorrectly padded.\n    \n        If validate is False (the default), characters that are neither in the\n        normal base-64 alphabet nor the alternative alphabet are discarded prior\n        to the padding check.  If validate is True, these non-alphabet characters\n        in the input result in a binascii.Error.\n        For more information about the strict base64 check, see:\n    \n        https://docs.python.org/3.11/library/binascii.html#binascii.a2b_base64\n        \"\"\"\n        s = _bytes_from_decode_data(s)\n        if altchars is not None:\n            altchars = _bytes_from_decode_data(altchars)\n            assert len(altchars) == 2, repr(altchars)\n            s = s.translate(bytes.maketrans(altchars, b'+/'))\n>       return binascii.a2b_base64(s, strict_mode=validate)\nE       binascii.Error: Invalid base64-encoded string: number of data characters (21) cannot be 1 more than a multiple of 4\n\n/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/base64.py:88: Error","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1750777957420,"stop":1750777957482,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Client authenticates to CBI"},{"name":"feature","value":"Authentication"},{"name":"tag","value":"auth"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_debtor_service_provider_availability"},{"name":"host","value":"pkrvmxyh4eaekms"},{"name":"thread","value":"2232-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_debtor_service_provider_availability"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":9,"skipped":0,"passed":43,"unknown":0,"total":52},"items":[{"uid":"69239723258fcd2f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/404//#testresult/69239723258fcd2f","status":"passed","time":{"start":1750756722139,"stop":1750756723011,"duration":872}},{"uid":"5ea54908b430bd8c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/403//#testresult/5ea54908b430bd8c","status":"passed","time":{"start":1750748871287,"stop":1750748872182,"duration":895}},{"uid":"d2307c0cc37dbd6d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/402//#testresult/d2307c0cc37dbd6d","status":"passed","time":{"start":1750684866601,"stop":1750684867664,"duration":1063}},{"uid":"20aa26c231d82739","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/401//#testresult/20aa26c231d82739","status":"passed","time":{"start":1750662504908,"stop":1750662506168,"duration":1260}},{"uid":"d57c89f794735079","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/400//#testresult/d57c89f794735079","status":"passed","time":{"start":1750576080281,"stop":1750576081236,"duration":955}},{"uid":"776674635afcf3a0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/399//#testresult/776674635afcf3a0","status":"passed","time":{"start":1750489646689,"stop":1750489647949,"duration":1260}},{"uid":"dbe5545de3fd4bd4","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/398//#testresult/dbe5545de3fd4bd4","status":"passed","time":{"start":1750403241462,"stop":1750403242339,"duration":877}},{"uid":"85ec3c1f90f0ed47","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/397//#testresult/85ec3c1f90f0ed47","status":"passed","time":{"start":1750335012203,"stop":1750335013289,"duration":1086}},{"uid":"1256e026bc842c42","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/396//#testresult/1256e026bc842c42","status":"passed","time":{"start":1750329652251,"stop":1750329653347,"duration":1096}},{"uid":"3a9249f18edb8f23","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/395//#testresult/3a9249f18edb8f23","status":"passed","time":{"start":1750328590077,"stop":1750328590899,"duration":822}},{"uid":"acedabd17b1b4f91","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/394//#testresult/acedabd17b1b4f91","status":"passed","time":{"start":1750317550065,"stop":1750317550936,"duration":871}},{"uid":"79ca01b374a0d502","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/393//#testresult/79ca01b374a0d502","status":"passed","time":{"start":1750316873280,"stop":1750316874400,"duration":1120}},{"uid":"40f452feac288ce3","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/392//#testresult/40f452feac288ce3","status":"passed","time":{"start":1750230490033,"stop":1750230491350,"duration":1317}},{"uid":"528acf057596e9d7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/391//#testresult/528acf057596e9d7","status":"passed","time":{"start":1750170141612,"stop":1750170142273,"duration":661}},{"uid":"cf9fdcf4def6df30","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/389//#testresult/cf9fdcf4def6df30","status":"passed","time":{"start":1750144054723,"stop":1750144055997,"duration":1274}},{"uid":"6caf4dca3777ab9f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/388//#testresult/6caf4dca3777ab9f","status":"passed","time":{"start":1750069036612,"stop":1750069037592,"duration":980}},{"uid":"bf362f146efa7fdf","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/387//#testresult/bf362f146efa7fdf","status":"passed","time":{"start":1750057717390,"stop":1750057718471,"duration":1081}},{"uid":"1e6a787352504e70","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/386//#testresult/1e6a787352504e70","status":"passed","time":{"start":1749971254852,"stop":1749971255834,"duration":982}},{"uid":"8917ebcc43e7d9f0","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/385//#testresult/8917ebcc43e7d9f0","status":"passed","time":{"start":1749884861177,"stop":1749884861910,"duration":733}},{"uid":"39fef529e8cc91a7","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/384//#testresult/39fef529e8cc91a7","status":"passed","time":{"start":1749810127557,"stop":1749810128458,"duration":901}}]},"tags":["auth"]},"source":"f73839a951323c71.json","parameterValues":[]}