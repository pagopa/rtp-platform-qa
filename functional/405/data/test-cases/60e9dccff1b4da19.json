{"uid":"60e9dccff1b4da19","name":"Unauthorized callback due to wrong certificate serial","fullName":"tests.test_callback#test_fail_send_rtp_callback_wrong_certificate_serial_DS_04b_compliant","historyId":"2cc2abb0fda2edeacf4f957d8bb07347","time":{"start":1750777963051,"stop":1750777963051,"duration":0},"status":"broken","statusMessage":"binascii.Error: Invalid base64-encoded string: number of data characters (37) cannot be 1 more than a multiple of 4","statusTrace":"@allure.feature(\"RTP Callback\")\n    @allure.story(\"Service provider sends a callback referred to an RTP\")\n    @allure.title(\"Unauthorized callback due to wrong certificate serial\")\n    @pytest.mark.callback\n    @pytest.mark.unhappy_path\n    def test_fail_send_rtp_callback_wrong_certificate_serial_DS_04b_compliant():\n        callback_data = generate_callback_data_DS_04b_compliant(BIC=\"MOCKSP01\")\n    \n>       cert, key = pfx_to_pem(\n            secrets.debtor_service_provider_mock_PFX_base64,\n            secrets.debtor_service_provider_mock_PFX_password_base64,\n            config.cert_path,\n            config.key_path,\n        )\n\nfunctional-tests/tests/test_callback.py:140: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nutils/cryptography.py:20: in pfx_to_pem\n    pfx_data = base64.b64decode(base64_pfx)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ns = b'@env DEBTOR_SERVICE_PROVIDER_MOCK_PFX_BASE64', altchars = None\nvalidate = False\n\n    def b64decode(s, altchars=None, validate=False):\n        \"\"\"Decode the Base64 encoded bytes-like object or ASCII string s.\n    \n        Optional altchars must be a bytes-like object or ASCII string of length 2\n        which specifies the alternative alphabet used instead of the '+' and '/'\n        characters.\n    \n        The result is returned as a bytes object.  A binascii.Error is raised if\n        s is incorrectly padded.\n    \n        If validate is False (the default), characters that are neither in the\n        normal base-64 alphabet nor the alternative alphabet are discarded prior\n        to the padding check.  If validate is True, these non-alphabet characters\n        in the input result in a binascii.Error.\n        For more information about the strict base64 check, see:\n    \n        https://docs.python.org/3.11/library/binascii.html#binascii.a2b_base64\n        \"\"\"\n        s = _bytes_from_decode_data(s)\n        if altchars is not None:\n            altchars = _bytes_from_decode_data(altchars)\n            assert len(altchars) == 2, repr(altchars)\n            s = s.translate(bytes.maketrans(altchars, b'+/'))\n>       return binascii.a2b_base64(s, strict_mode=validate)\nE       binascii.Error: Invalid base64-encoded string: number of data characters (37) cannot be 1 more than a multiple of 4\n\n/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/base64.py:88: Error","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1750777957420,"stop":1750777957482,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Service provider sends a callback referred to an RTP"},{"name":"feature","value":"RTP Callback"},{"name":"tag","value":"unhappy_path"},{"name":"tag","value":"callback"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_callback"},{"name":"host","value":"pkrvmxyh4eaekms"},{"name":"thread","value":"2232-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":10,"skipped":0,"passed":93,"unknown":0,"total":104},"items":[{"uid":"b05fee92efd26e4d","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/404//#testresult/b05fee92efd26e4d","status":"passed","time":{"start":1750756714193,"stop":1750756714584,"duration":391}},{"uid":"58ca337b4616633f","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/403//#testresult/58ca337b4616633f","status":"passed","time":{"start":1750748862859,"stop":1750748863240,"duration":381}},{"uid":"dd6809bf92feed88","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/402//#testresult/dd6809bf92feed88","status":"passed","time":{"start":1750684858145,"stop":1750684858552,"duration":407}},{"uid":"2c4ebfe1f2af280c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/401//#testresult/2c4ebfe1f2af280c","status":"passed","time":{"start":1750662491377,"stop":1750662492181,"duration":804}},{"uid":"67c41f22f5bbcb57","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/400//#testresult/67c41f22f5bbcb57","status":"passed","time":{"start":1750576070053,"stop":1750576070515,"duration":462}},{"uid":"c7de16bb6ca02067","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/399//#testresult/c7de16bb6ca02067","status":"passed","time":{"start":1750489633833,"stop":1750489634451,"duration":618}},{"uid":"be4e34d7fb4a0477","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/398//#testresult/be4e34d7fb4a0477","status":"passed","time":{"start":1750403232808,"stop":1750403233223,"duration":415}},{"uid":"a8e01db1921ec490","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/397//#testresult/a8e01db1921ec490","status":"passed","time":{"start":1750334999847,"stop":1750335000453,"duration":606}},{"uid":"1c442651aa65773e","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/396//#testresult/1c442651aa65773e","status":"passed","time":{"start":1750329638881,"stop":1750329639540,"duration":659}},{"uid":"39b7079373b28a9c","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/395//#testresult/39b7079373b28a9c","status":"passed","time":{"start":1750328581751,"stop":1750328582142,"duration":391}},{"uid":"9b45b246d8bf7590","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/394//#testresult/9b45b246d8bf7590","status":"passed","time":{"start":1750317541308,"stop":1750317541804,"duration":496}},{"uid":"acb4a0c8692e7ec2","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/393//#testresult/acb4a0c8692e7ec2","status":"passed","time":{"start":1750316859418,"stop":1750316860249,"duration":831}},{"uid":"9309373a3697e734","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/392//#testresult/9309373a3697e734","status":"passed","time":{"start":1750230473555,"stop":1750230474196,"duration":641}},{"uid":"eb521ccdb9e8f610","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/391//#testresult/eb521ccdb9e8f610","status":"passed","time":{"start":1750170133783,"stop":1750170134186,"duration":403}},{"uid":"64fd6ec8e96a6037","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/389//#testresult/64fd6ec8e96a6037","status":"passed","time":{"start":1750144041265,"stop":1750144041915,"duration":650}},{"uid":"596938073e01c8eb","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/388//#testresult/596938073e01c8eb","status":"passed","time":{"start":1750069025630,"stop":1750069026141,"duration":511}},{"uid":"f1bb30ab6ed4775b","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/387//#testresult/f1bb30ab6ed4775b","status":"passed","time":{"start":1750057707589,"stop":1750057708053,"duration":464}},{"uid":"1b2a77ca2fc1c68a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/386//#testresult/1b2a77ca2fc1c68a","status":"passed","time":{"start":1749971244040,"stop":1749971244537,"duration":497}},{"uid":"cfa73c3f497e2c90","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/385//#testresult/cfa73c3f497e2c90","status":"passed","time":{"start":1749884851719,"stop":1749884852182,"duration":463}},{"uid":"a058412bfd6a990a","reportUrl":"https://pagopa.github.io/rtp-platform-qa/functional/384//#testresult/a058412bfd6a990a","status":"passed","time":{"start":1749810119256,"stop":1749810119755,"duration":499}}]},"tags":["callback","unhappy_path"]},"source":"60e9dccff1b4da19.json","parameterValues":[]}